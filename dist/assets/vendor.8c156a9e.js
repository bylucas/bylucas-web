function Si(e,t){const n=Object.create(null),s=e.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}const Bf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Hf=Si(Bf);function Xa(e){return!!e||e===""}function _i(e){if(K(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],r=Oe(s)?zf(s):_i(s);if(r)for(const i in r)t[i]=r[i]}return t}else{if(Oe(e))return e;if(Se(e))return e}}const Kf=/;(?![^(]*\))/g,qf=/:(.+)/;function zf(e){const t={};return e.split(Kf).forEach(n=>{if(n){const s=n.split(qf);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ri(e){let t="";if(Oe(e))t=e;else if(K(e))for(let n=0;n<e.length;n++){const s=Ri(e[n]);s&&(t+=s+" ")}else if(Se(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const ZE=e=>e==null?"":K(e)||Se(e)&&(e.toString===el||!z(e.toString))?JSON.stringify(e,Qa,2):String(e),Qa=(e,t)=>t&&t.__v_isRef?Qa(e,t.value):wn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:Ya(t)?{[`Set(${t.size})`]:[...t.values()]}:Se(t)&&!K(t)&&!tl(t)?String(t):t,ae={},vn=[],ht=()=>{},Gf=()=>!1,Wf=/^on[^a-z]/,Xs=e=>Wf.test(e),Ni=e=>e.startsWith("onUpdate:"),Pe=Object.assign,Ja=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Xf=Object.prototype.hasOwnProperty,ee=(e,t)=>Xf.call(e,t),K=Array.isArray,wn=e=>Qs(e)==="[object Map]",Ya=e=>Qs(e)==="[object Set]",z=e=>typeof e=="function",Oe=e=>typeof e=="string",xi=e=>typeof e=="symbol",Se=e=>e!==null&&typeof e=="object",Za=e=>Se(e)&&z(e.then)&&z(e.catch),el=Object.prototype.toString,Qs=e=>el.call(e),Qf=e=>Qs(e).slice(8,-1),tl=e=>Qs(e)==="[object Object]",Di=e=>Oe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Js=Si(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ys=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Jf=/-(\w)/g,yt=Ys(e=>e.replace(Jf,(t,n)=>n?n.toUpperCase():"")),Yf=/\B([A-Z])/g,En=Ys(e=>e.replace(Yf,"-$1").toLowerCase()),Zs=Ys(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pi=Ys(e=>e?`on${Zs(e)}`:""),Yn=(e,t)=>!Object.is(e,t),er=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},tr=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},nr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let nl;const Zf=()=>nl||(nl=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let zt;const sr=[];class ed{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&zt&&(this.parent=zt,this.index=(zt.scopes||(zt.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(sr.push(this),zt=this)}off(){this.active&&(sr.pop(),zt=sr[sr.length-1])}stop(t){if(this.active){if(this.effects.forEach(n=>n.stop()),this.cleanups.forEach(n=>n()),this.scopes&&this.scopes.forEach(n=>n.stop(!0)),this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.active=!1}}}function td(e,t){t=t||zt,t&&t.active&&t.effects.push(e)}const Oi=e=>{const t=new Set(e);return t.w=0,t.n=0,t},sl=e=>(e.w&Pt)>0,rl=e=>(e.n&Pt)>0,nd=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Pt},sd=e=>{const{deps:t}=e;if(t.length){let n=0;for(let s=0;s<t.length;s++){const r=t[s];sl(r)&&!rl(r)?r.delete(e):t[n++]=r,r.w&=~Pt,r.n&=~Pt}t.length=n}},ki=new WeakMap;let Zn=0,Pt=1;const Mi=30,es=[];let Gt;const Wt=Symbol(""),Li=Symbol("");class Fi{constructor(t,n=null,s){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],td(this,s)}run(){if(!this.active)return this.fn();if(!es.includes(this))try{return es.push(Gt=this),rd(),Pt=1<<++Zn,Zn<=Mi?nd(this):il(this),this.fn()}finally{Zn<=Mi&&sd(this),Pt=1<<--Zn,Xt(),es.pop();const t=es.length;Gt=t>0?es[t-1]:void 0}}stop(){this.active&&(il(this),this.onStop&&this.onStop(),this.active=!1)}}function il(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Tn=!0;const Ui=[];function An(){Ui.push(Tn),Tn=!1}function rd(){Ui.push(Tn),Tn=!0}function Xt(){const e=Ui.pop();Tn=e===void 0?!0:e}function Ze(e,t,n){if(!ol())return;let s=ki.get(e);s||ki.set(e,s=new Map);let r=s.get(n);r||s.set(n,r=Oi()),al(r)}function ol(){return Tn&&Gt!==void 0}function al(e,t){let n=!1;Zn<=Mi?rl(e)||(e.n|=Pt,n=!sl(e)):n=!e.has(Gt),n&&(e.add(Gt),Gt.deps.push(e))}function It(e,t,n,s,r,i){const o=ki.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&K(e))o.forEach((l,c)=>{(c==="length"||c>=s)&&a.push(l)});else switch(n!==void 0&&a.push(o.get(n)),t){case"add":K(e)?Di(n)&&a.push(o.get("length")):(a.push(o.get(Wt)),wn(e)&&a.push(o.get(Li)));break;case"delete":K(e)||(a.push(o.get(Wt)),wn(e)&&a.push(o.get(Li)));break;case"set":wn(e)&&a.push(o.get(Wt));break}if(a.length===1)a[0]&&Vi(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Vi(Oi(l))}}function Vi(e,t){for(const n of K(e)?e:[...e])(n!==Gt||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const id=Si("__proto__,__v_isRef,__isVue"),ll=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(xi)),od=$i(),ad=$i(!1,!0),ld=$i(!0),cl=cd();function cd(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const s=ne(this);for(let i=0,o=this.length;i<o;i++)Ze(s,"get",i+"");const r=s[t](...n);return r===-1||r===!1?s[t](...n.map(ne)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){An();const s=ne(this)[t].apply(this,n);return Xt(),s}}),e}function $i(e=!1,t=!1){return function(s,r,i){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_raw"&&i===(e?t?Id:vl:t?yl:ml).get(s))return s;const o=K(s);if(!e&&o&&ee(cl,r))return Reflect.get(cl,r,i);const a=Reflect.get(s,r,i);return(xi(r)?ll.has(r):id(r))||(e||Ze(s,"get",r),t)?a:Ge(a)?!o||!Di(r)?a.value:a:Se(a)?e?wl(a):ts(a):a}}const ud=ul(),hd=ul(!0);function ul(e=!1){return function(n,s,r,i){let o=n[s];if(!e&&(r=ne(r),o=ne(o),!K(n)&&Ge(o)&&!Ge(r)))return o.value=r,!0;const a=K(n)&&Di(s)?Number(s)<n.length:ee(n,s),l=Reflect.set(n,s,r,i);return n===ne(i)&&(a?Yn(r,o)&&It(n,"set",s,r):It(n,"add",s,r)),l}}function fd(e,t){const n=ee(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&n&&It(e,"delete",t,void 0),s}function dd(e,t){const n=Reflect.has(e,t);return(!xi(t)||!ll.has(t))&&Ze(e,"has",t),n}function pd(e){return Ze(e,"iterate",K(e)?"length":Wt),Reflect.ownKeys(e)}const hl={get:od,set:ud,deleteProperty:fd,has:dd,ownKeys:pd},gd={get:ld,set(e,t){return!0},deleteProperty(e,t){return!0}},md=Pe({},hl,{get:ad,set:hd}),ji=e=>e,rr=e=>Reflect.getPrototypeOf(e);function ir(e,t,n=!1,s=!1){e=e.__v_raw;const r=ne(e),i=ne(t);t!==i&&!n&&Ze(r,"get",t),!n&&Ze(r,"get",i);const{has:o}=rr(r),a=s?ji:n?Ki:ns;if(o.call(r,t))return a(e.get(t));if(o.call(r,i))return a(e.get(i));e!==r&&e.get(t)}function or(e,t=!1){const n=this.__v_raw,s=ne(n),r=ne(e);return e!==r&&!t&&Ze(s,"has",e),!t&&Ze(s,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function ar(e,t=!1){return e=e.__v_raw,!t&&Ze(ne(e),"iterate",Wt),Reflect.get(e,"size",e)}function fl(e){e=ne(e);const t=ne(this);return rr(t).has.call(t,e)||(t.add(e),It(t,"add",e,e)),this}function dl(e,t){t=ne(t);const n=ne(this),{has:s,get:r}=rr(n);let i=s.call(n,e);i||(e=ne(e),i=s.call(n,e));const o=r.call(n,e);return n.set(e,t),i?Yn(t,o)&&It(n,"set",e,t):It(n,"add",e,t),this}function pl(e){const t=ne(this),{has:n,get:s}=rr(t);let r=n.call(t,e);r||(e=ne(e),r=n.call(t,e)),s&&s.call(t,e);const i=t.delete(e);return r&&It(t,"delete",e,void 0),i}function gl(){const e=ne(this),t=e.size!==0,n=e.clear();return t&&It(e,"clear",void 0,void 0),n}function lr(e,t){return function(s,r){const i=this,o=i.__v_raw,a=ne(o),l=t?ji:e?Ki:ns;return!e&&Ze(a,"iterate",Wt),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function cr(e,t,n){return function(...s){const r=this.__v_raw,i=ne(r),o=wn(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=r[e](...s),u=n?ji:t?Ki:ns;return!t&&Ze(i,"iterate",l?Li:Wt),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Ot(e){return function(...t){return e==="delete"?!1:this}}function yd(){const e={get(i){return ir(this,i)},get size(){return ar(this)},has:or,add:fl,set:dl,delete:pl,clear:gl,forEach:lr(!1,!1)},t={get(i){return ir(this,i,!1,!0)},get size(){return ar(this)},has:or,add:fl,set:dl,delete:pl,clear:gl,forEach:lr(!1,!0)},n={get(i){return ir(this,i,!0)},get size(){return ar(this,!0)},has(i){return or.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:lr(!0,!1)},s={get(i){return ir(this,i,!0,!0)},get size(){return ar(this,!0)},has(i){return or.call(this,i,!0)},add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear"),forEach:lr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=cr(i,!1,!1),n[i]=cr(i,!0,!1),t[i]=cr(i,!1,!0),s[i]=cr(i,!0,!0)}),[e,n,t,s]}const[vd,wd,Ed,Td]=yd();function Bi(e,t){const n=t?e?Td:Ed:e?wd:vd;return(s,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?s:Reflect.get(ee(n,r)&&r in s?n:s,r,i)}const Ad={get:Bi(!1,!1)},bd={get:Bi(!1,!0)},Cd={get:Bi(!0,!1)},ml=new WeakMap,yl=new WeakMap,vl=new WeakMap,Id=new WeakMap;function Sd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _d(e){return e.__v_skip||!Object.isExtensible(e)?0:Sd(Qf(e))}function ts(e){return e&&e.__v_isReadonly?e:Hi(e,!1,hl,Ad,ml)}function Rd(e){return Hi(e,!1,md,bd,yl)}function wl(e){return Hi(e,!0,gd,Cd,vl)}function Hi(e,t,n,s,r){if(!Se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=_d(e);if(o===0)return e;const a=new Proxy(e,o===2?s:n);return r.set(e,a),a}function bn(e){return El(e)?bn(e.__v_raw):!!(e&&e.__v_isReactive)}function El(e){return!!(e&&e.__v_isReadonly)}function Tl(e){return bn(e)||El(e)}function ne(e){const t=e&&e.__v_raw;return t?ne(t):e}function Al(e){return tr(e,"__v_skip",!0),e}const ns=e=>Se(e)?ts(e):e,Ki=e=>Se(e)?wl(e):e;function bl(e){ol()&&(e=ne(e),e.dep||(e.dep=Oi()),al(e.dep))}function Cl(e,t){e=ne(e),e.dep&&Vi(e.dep)}function Ge(e){return Boolean(e&&e.__v_isRef===!0)}function Nd(e){return Il(e,!1)}function xd(e){return Il(e,!0)}function Il(e,t){return Ge(e)?e:new Dd(e,t)}class Dd{constructor(t,n){this._shallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ne(t),this._value=n?t:ns(t)}get value(){return bl(this),this._value}set value(t){t=this._shallow?t:ne(t),Yn(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:ns(t),Cl(this))}}function ss(e){return Ge(e)?e.value:e}const Pd={get:(e,t,n)=>ss(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const r=e[t];return Ge(r)&&!Ge(n)?(r.value=n,!0):Reflect.set(e,t,n,s)}};function Sl(e){return bn(e)?e:new Proxy(e,Pd)}class Od{constructor(t,n,s){this._setter=n,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Fi(t,()=>{this._dirty||(this._dirty=!0,Cl(this))}),this.__v_isReadonly=s}get value(){const t=ne(this);return bl(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function vt(e,t){let n,s;const r=z(e);return r?(n=e,s=ht):(n=e.get,s=e.set),new Od(n,s,r||!s)}Promise.resolve();function kd(e,t,...n){const s=e.vnode.props||ae;let r=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=s[u]||ae;d?r=n.map(m=>m.trim()):f&&(r=n.map(nr))}let a,l=s[a=Pi(t)]||s[a=Pi(yt(t))];!l&&i&&(l=s[a=Pi(En(t))]),l&&lt(l,e,6,r);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,lt(c,e,6,r)}}function _l(e,t,n=!1){const s=t.emitsCache,r=s.get(e);if(r!==void 0)return r;const i=e.emits;let o={},a=!1;if(!z(e)){const l=c=>{const u=_l(c,t,!0);u&&(a=!0,Pe(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(s.set(e,null),null):(K(i)?i.forEach(l=>o[l]=null):Pe(o,i),s.set(e,o),o)}function qi(e,t){return!e||!Xs(t)?!1:(t=t.slice(2).replace(/Once$/,""),ee(e,t[0].toLowerCase()+t.slice(1))||ee(e,En(t))||ee(e,t))}let et=null,ur=null;function hr(e){const t=et;return et=e,ur=e&&e.type.__scopeId||null,t}function e0(e){ur=e}function t0(){ur=null}function Md(e,t=et,n){if(!t||e._n)return e;const s=(...r)=>{s._d&&sc(-1);const i=hr(t),o=e(...r);return hr(i),s._d&&sc(1),o};return s._n=!0,s._c=!0,s._d=!0,s}function zi(e){const{type:t,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:m,ctx:v,inheritAttrs:P}=e;let R,N;const F=hr(e);try{if(n.shapeFlag&4){const G=r||s;R=Et(u.call(G,G,f,i,m,d,v)),N=l}else{const G=t;R=Et(G.length>1?G(i,{attrs:l,slots:a,emit:c}):G(i,null)),N=t.props?l:Ld(l)}}catch(G){rs.length=0,br(G,e,1),R=Be(ft)}let W=R;if(N&&P!==!1){const G=Object.keys(N),{shapeFlag:ce}=W;G.length&&ce&(1|6)&&(o&&G.some(Ni)&&(N=Fd(N,o)),W=Cn(W,N))}return n.dirs&&(W.dirs=W.dirs?W.dirs.concat(n.dirs):n.dirs),n.transition&&(W.transition=n.transition),R=W,hr(F),R}const Ld=e=>{let t;for(const n in e)(n==="class"||n==="style"||Xs(n))&&((t||(t={}))[n]=e[n]);return t},Fd=(e,t)=>{const n={};for(const s in e)(!Ni(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Ud(e,t,n){const{props:s,children:r,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?Rl(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==s[d]&&!qi(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Rl(s,o,c):!0:!!o;return!1}function Rl(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==e[i]&&!qi(n,i))return!0}return!1}function Vd({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const $d=e=>e.__isSuspense;function jd(e,t){t&&t.pendingBranch?K(e)?t.effects.push(...e):t.effects.push(e):Lp(e)}function fr(e,t){if(Re){let n=Re.provides;const s=Re.parent&&Re.parent.provides;s===n&&(n=Re.provides=Object.create(s)),n[e]=t}}function kt(e,t,n=!1){const s=Re||et;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&z(t)?t.call(s.proxy):t}}function Bd(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ml(()=>{e.isMounted=!0}),Ll(()=>{e.isUnmounting=!0}),e}const ot=[Function,Array],Hd={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ot,onEnter:ot,onAfterEnter:ot,onEnterCancelled:ot,onBeforeLeave:ot,onLeave:ot,onAfterLeave:ot,onLeaveCancelled:ot,onBeforeAppear:ot,onAppear:ot,onAfterAppear:ot,onAppearCancelled:ot},setup(e,{slots:t}){const n=Ip(),s=Bd();let r;return()=>{const i=t.default&&Pl(t.default(),!0);if(!i||!i.length)return;const o=ne(e),{mode:a}=o,l=i[0];if(s.isLeaving)return Wi(l);const c=Dl(l);if(!c)return Wi(l);const u=Gi(c,o,s,n);Xi(c,u);const f=n.subTree,d=f&&Dl(f);let m=!1;const{getTransitionKey:v}=c.type;if(v){const P=v();r===void 0?r=P:P!==r&&(r=P,m=!0)}if(d&&d.type!==ft&&(!Zt(c,d)||m)){const P=Gi(d,o,s,n);if(Xi(d,P),a==="out-in")return s.isLeaving=!0,P.afterLeave=()=>{s.isLeaving=!1,n.update()},Wi(l);a==="in-out"&&c.type!==ft&&(P.delayLeave=(R,N,F)=>{const W=xl(s,d);W[String(d.key)]=d,R._leaveCb=()=>{N(),R._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=F})}return l}}},Nl=Hd;function xl(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Gi(e,t,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:P,onAppear:R,onAfterAppear:N,onAppearCancelled:F}=t,W=String(e.key),G=xl(n,e),ce=(X,Te)=>{X&&lt(X,s,9,Te)},Ee={mode:i,persisted:o,beforeEnter(X){let Te=a;if(!n.isMounted)if(r)Te=P||a;else return;X._leaveCb&&X._leaveCb(!0);const ue=G[W];ue&&Zt(e,ue)&&ue.el._leaveCb&&ue.el._leaveCb(),ce(Te,[X])},enter(X){let Te=l,ue=c,De=u;if(!n.isMounted)if(r)Te=R||l,ue=N||c,De=F||u;else return;let Ie=!1;const M=X._enterCb=ve=>{Ie||(Ie=!0,ve?ce(De,[X]):ce(ue,[X]),Ee.delayedLeave&&Ee.delayedLeave(),X._enterCb=void 0)};Te?(Te(X,M),Te.length<=1&&M()):M()},leave(X,Te){const ue=String(e.key);if(X._enterCb&&X._enterCb(!0),n.isUnmounting)return Te();ce(f,[X]);let De=!1;const Ie=X._leaveCb=M=>{De||(De=!0,Te(),M?ce(v,[X]):ce(m,[X]),X._leaveCb=void 0,G[ue]===e&&delete G[ue])};G[ue]=e,d?(d(X,Ie),d.length<=1&&Ie()):Ie()},clone(X){return Gi(X,t,n,s)}};return Ee}function Wi(e){if(dr(e))return e=Cn(e),e.children=null,e}function Dl(e){return dr(e)?e.children?e.children[0]:void 0:e}function Xi(e,t){e.shapeFlag&6&&e.component?Xi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Pl(e,t=!1){let n=[],s=0;for(let r=0;r<e.length;r++){const i=e[r];i.type===at?(i.patchFlag&128&&s++,n=n.concat(Pl(i.children,t))):(t||i.type!==ft)&&n.push(i)}if(s>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function Ol(e){return z(e)?{setup:e,name:e.name}:e}const Qi=e=>!!e.type.__asyncLoader,dr=e=>e.type.__isKeepAlive;function Kd(e,t){kl(e,"a",t)}function qd(e,t){kl(e,"da",t)}function kl(e,t,n=Re){const s=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}e()});if(pr(t,s,n),n){let r=n.parent;for(;r&&r.parent;)dr(r.parent.vnode)&&zd(s,t,n,r),r=r.parent}}function zd(e,t,n,s){const r=pr(t,e,s,!0);Fl(()=>{Ja(s[t],r)},n)}function pr(e,t,n=Re,s=!1){if(n){const r=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;An(),In(n);const a=lt(t,n,e,o);return en(),Xt(),a});return s?r.unshift(i):r.push(i),i}}const St=e=>(t,n=Re)=>(!Ar||e==="sp")&&pr(e,t,n),Gd=St("bm"),Ml=St("m"),Wd=St("bu"),Xd=St("u"),Ll=St("bum"),Fl=St("um"),Qd=St("sp"),Jd=St("rtg"),Yd=St("rtc");function Zd(e,t=Re){pr("ec",e,t)}let Ji=!0;function ep(e){const t=$l(e),n=e.proxy,s=e.ctx;Ji=!1,t.beforeCreate&&Ul(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:m,updated:v,activated:P,deactivated:R,beforeDestroy:N,beforeUnmount:F,destroyed:W,unmounted:G,render:ce,renderTracked:Ee,renderTriggered:X,errorCaptured:Te,serverPrefetch:ue,expose:De,inheritAttrs:Ie,components:M,directives:ve,filters:ze}=t;if(c&&tp(c,s,null,e.appContext.config.unwrapInjectedRef),o)for(const he in o){const re=o[he];z(re)&&(s[he]=re.bind(n))}if(r){const he=r.call(n,n);Se(he)&&(e.data=ts(he))}if(Ji=!0,i)for(const he in i){const re=i[he],rt=z(re)?re.bind(n,n):z(re.get)?re.get.bind(n,n):ht,mn=!z(re)&&z(re.set)?re.set.bind(n):ht,Ct=vt({get:rt,set:mn});Object.defineProperty(s,he,{enumerable:!0,configurable:!0,get:()=>Ct.value,set:gt=>Ct.value=gt})}if(a)for(const he in a)Vl(a[he],s,n,he);if(l){const he=z(l)?l.call(n):l;Reflect.ownKeys(he).forEach(re=>{fr(re,he[re])})}u&&Ul(u,e,"c");function we(he,re){K(re)?re.forEach(rt=>he(rt.bind(n))):re&&he(re.bind(n))}if(we(Gd,f),we(Ml,d),we(Wd,m),we(Xd,v),we(Kd,P),we(qd,R),we(Zd,Te),we(Yd,Ee),we(Jd,X),we(Ll,F),we(Fl,G),we(Qd,ue),K(De))if(De.length){const he=e.exposed||(e.exposed={});De.forEach(re=>{Object.defineProperty(he,re,{get:()=>n[re],set:rt=>n[re]=rt})})}else e.exposed||(e.exposed={});ce&&e.render===ht&&(e.render=ce),Ie!=null&&(e.inheritAttrs=Ie),M&&(e.components=M),ve&&(e.directives=ve)}function tp(e,t,n=ht,s=!1){K(e)&&(e=Yi(e));for(const r in e){const i=e[r];let o;Se(i)?"default"in i?o=kt(i.from||r,i.default,!0):o=kt(i.from||r):o=kt(i),Ge(o)&&s?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[r]=o}}function Ul(e,t,n){lt(K(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function Vl(e,t,n,s){const r=s.includes(".")?Ac(n,s):()=>n[s];if(Oe(e)){const i=t[e];z(i)&&Ir(r,i)}else if(z(e))Ir(r,e.bind(n));else if(Se(e))if(K(e))e.forEach(i=>Vl(i,t,n,s));else{const i=z(e.handler)?e.handler.bind(n):t[e.handler];z(i)&&Ir(r,i,e)}}function $l(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!r.length&&!n&&!s?l=t:(l={},r.length&&r.forEach(c=>gr(l,c,o,!0)),gr(l,t,o)),i.set(t,l),l}function gr(e,t,n,s=!1){const{mixins:r,extends:i}=t;i&&gr(e,i,n,!0),r&&r.forEach(o=>gr(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=np[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const np={data:jl,props:Qt,emits:Qt,methods:Qt,computed:Qt,beforeCreate:$e,created:$e,beforeMount:$e,mounted:$e,beforeUpdate:$e,updated:$e,beforeDestroy:$e,beforeUnmount:$e,destroyed:$e,unmounted:$e,activated:$e,deactivated:$e,errorCaptured:$e,serverPrefetch:$e,components:Qt,directives:Qt,watch:rp,provide:jl,inject:sp};function jl(e,t){return t?e?function(){return Pe(z(e)?e.call(this,this):e,z(t)?t.call(this,this):t)}:t:e}function sp(e,t){return Qt(Yi(e),Yi(t))}function Yi(e){if(K(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function $e(e,t){return e?[...new Set([].concat(e,t))]:t}function Qt(e,t){return e?Pe(Pe(Object.create(null),e),t):t}function rp(e,t){if(!e)return t;if(!t)return e;const n=Pe(Object.create(null),e);for(const s in t)n[s]=$e(e[s],t[s]);return n}function ip(e,t,n,s=!1){const r={},i={};tr(i,wr,1),e.propsDefaults=Object.create(null),Bl(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);n?e.props=s?r:Rd(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function op(e,t,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,a=ne(r),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];const m=t[d];if(l)if(ee(i,d))m!==i[d]&&(i[d]=m,c=!0);else{const v=yt(d);r[v]=Zi(l,a,v,m,e,!1)}else m!==i[d]&&(i[d]=m,c=!0)}}}else{Bl(e,t,r,i)&&(c=!0);let u;for(const f in a)(!t||!ee(t,f)&&((u=En(f))===f||!ee(t,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(r[f]=Zi(l,a,f,void 0,e,!0)):delete r[f]);if(i!==a)for(const f in i)(!t||!ee(t,f))&&(delete i[f],c=!0)}c&&It(e,"set","$attrs")}function Bl(e,t,n,s){const[r,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Js(l))continue;const c=t[l];let u;r&&ee(r,u=yt(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:qi(e.emitsOptions,l)||c!==s[l]&&(s[l]=c,o=!0)}if(i){const l=ne(n),c=a||ae;for(let u=0;u<i.length;u++){const f=i[u];n[f]=Zi(r,l,f,c[f],e,!ee(c,f))}}return o}function Zi(e,t,n,s,r,i){const o=e[n];if(o!=null){const a=ee(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&z(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(In(r),s=c[n]=l.call(null,t),en())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===En(n))&&(s=!0))}return s}function Hl(e,t,n=!1){const s=t.propsCache,r=s.get(e);if(r)return r;const i=e.props,o={},a=[];let l=!1;if(!z(e)){const u=f=>{l=!0;const[d,m]=Hl(f,t,!0);Pe(o,d),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return s.set(e,vn),vn;if(K(i))for(let u=0;u<i.length;u++){const f=yt(i[u]);Kl(f)&&(o[f]=ae)}else if(i)for(const u in i){const f=yt(u);if(Kl(f)){const d=i[u],m=o[f]=K(d)||z(d)?{type:d}:d;if(m){const v=Gl(Boolean,m.type),P=Gl(String,m.type);m[0]=v>-1,m[1]=P<0||v<P,(v>-1||ee(m,"default"))&&a.push(f)}}}const c=[o,a];return s.set(e,c),c}function Kl(e){return e[0]!=="$"}function ql(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function zl(e,t){return ql(e)===ql(t)}function Gl(e,t){return K(t)?t.findIndex(n=>zl(n,e)):z(t)&&zl(t,e)?0:-1}const Wl=e=>e[0]==="_"||e==="$stable",eo=e=>K(e)?e.map(Et):[Et(e)],ap=(e,t,n)=>{const s=Md((...r)=>eo(t(...r)),n);return s._c=!1,s},Xl=(e,t,n)=>{const s=e._ctx;for(const r in e){if(Wl(r))continue;const i=e[r];if(z(i))t[r]=ap(r,i,s);else if(i!=null){const o=eo(i);t[r]=()=>o}}},Ql=(e,t)=>{const n=eo(t);e.slots.default=()=>n},lp=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ne(t),tr(t,"_",n)):Xl(t,e.slots={})}else e.slots={},t&&Ql(e,t);tr(e.slots,wr,1)},cp=(e,t,n)=>{const{vnode:s,slots:r}=e;let i=!0,o=ae;if(s.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Pe(r,t),!n&&a===1&&delete r._):(i=!t.$stable,Xl(t,r)),o=t}else t&&(Ql(e,t),o={default:1});if(i)for(const a in r)!Wl(a)&&!(a in o)&&delete r[a]};function n0(e,t){const n=et;if(n===null)return e;const s=n.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,a,l,c=ae]=t[i];z(o)&&(o={mounted:o,updated:o}),o.deep&&tn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c})}return e}function Jt(e,t,n,s){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(An(),lt(l,n,8,[e.el,a,e,t]),Xt())}}function Jl(){return{app:null,config:{isNativeTag:Gf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let up=0;function hp(e,t){return function(s,r=null){r!=null&&!Se(r)&&(r=null);const i=Jl(),o=new Set;let a=!1;const l=i.app={_uid:up++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Up,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&z(c.install)?(o.add(c),c.install(l,...u)):z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,f){if(!a){const d=Be(s,r);return d.appContext=i,u&&t?t(d,c):e(d,c,f),a=!0,l._container=c,c.__vue_app__=l,oo(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l}};return l}}const je=jd;function fp(e){return dp(e)}function dp(e,t){const n=Zf();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:m=ht,cloneNode:v,insertStaticContent:P}=e,R=(h,p,g,E=null,w=null,I=null,_=!1,A=null,b=!!p.dynamicChildren)=>{if(h===p)return;h&&!Zt(h,p)&&(E=L(h),it(h,w,I,!0),h=null),p.patchFlag===-2&&(b=!1,p.dynamicChildren=null);const{type:T,ref:U,shapeFlag:O}=p;switch(T){case so:N(h,p,g,E);break;case ft:F(h,p,g,E);break;case mr:h==null&&W(p,g,E,_);break;case at:ve(h,p,g,E,w,I,_,A,b);break;default:O&1?Ee(h,p,g,E,w,I,_,A,b):O&6?ze(h,p,g,E,w,I,_,A,b):(O&64||O&128)&&T.process(h,p,g,E,w,I,_,A,b,fe)}U!=null&&w&&to(U,h&&h.ref,I,p||h,!p)},N=(h,p,g,E)=>{if(h==null)s(p.el=a(p.children),g,E);else{const w=p.el=h.el;p.children!==h.children&&c(w,p.children)}},F=(h,p,g,E)=>{h==null?s(p.el=l(p.children||""),g,E):p.el=h.el},W=(h,p,g,E)=>{[h.el,h.anchor]=P(h.children,p,g,E)},G=({el:h,anchor:p},g,E)=>{let w;for(;h&&h!==p;)w=d(h),s(h,g,E),h=w;s(p,g,E)},ce=({el:h,anchor:p})=>{let g;for(;h&&h!==p;)g=d(h),r(h),h=g;r(p)},Ee=(h,p,g,E,w,I,_,A,b)=>{_=_||p.type==="svg",h==null?X(p,g,E,w,I,_,A,b):De(h,p,w,I,_,A,b)},X=(h,p,g,E,w,I,_,A)=>{let b,T;const{type:U,props:O,shapeFlag:V,transition:B,patchFlag:Y,dirs:me}=h;if(h.el&&v!==void 0&&Y===-1)b=h.el=v(h.el);else{if(b=h.el=o(h.type,I,O&&O.is,O),V&8?u(b,h.children):V&16&&ue(h.children,b,null,E,w,I&&U!=="foreignObject",_,A),me&&Jt(h,null,E,"created"),O){for(const de in O)de!=="value"&&!Js(de)&&i(b,de,null,O[de],I,h.children,E,w,S);"value"in O&&i(b,"value",null,O.value),(T=O.onVnodeBeforeMount)&&wt(T,E,h)}Te(b,h,h.scopeId,_,E)}me&&Jt(h,null,E,"beforeMount");const oe=(!w||w&&!w.pendingBranch)&&B&&!B.persisted;oe&&B.beforeEnter(b),s(b,p,g),((T=O&&O.onVnodeMounted)||oe||me)&&je(()=>{T&&wt(T,E,h),oe&&B.enter(b),me&&Jt(h,null,E,"mounted")},w)},Te=(h,p,g,E,w)=>{if(g&&m(h,g),E)for(let I=0;I<E.length;I++)m(h,E[I]);if(w){let I=w.subTree;if(p===I){const _=w.vnode;Te(h,_,_.scopeId,_.slotScopeIds,w.parent)}}},ue=(h,p,g,E,w,I,_,A,b=0)=>{for(let T=b;T<h.length;T++){const U=h[T]=A?Mt(h[T]):Et(h[T]);R(null,U,p,g,E,w,I,_,A)}},De=(h,p,g,E,w,I,_)=>{const A=p.el=h.el;let{patchFlag:b,dynamicChildren:T,dirs:U}=p;b|=h.patchFlag&16;const O=h.props||ae,V=p.props||ae;let B;(B=V.onVnodeBeforeUpdate)&&wt(B,g,p,h),U&&Jt(p,h,g,"beforeUpdate");const Y=w&&p.type!=="foreignObject";if(T?Ie(h.dynamicChildren,T,A,g,E,Y,I):_||rt(h,p,A,null,g,E,Y,I,!1),b>0){if(b&16)M(A,p,O,V,g,E,w);else if(b&2&&O.class!==V.class&&i(A,"class",null,V.class,w),b&4&&i(A,"style",O.style,V.style,w),b&8){const me=p.dynamicProps;for(let oe=0;oe<me.length;oe++){const de=me[oe],ut=O[de],yn=V[de];(yn!==ut||de==="value")&&i(A,de,ut,yn,w,h.children,g,E,S)}}b&1&&h.children!==p.children&&u(A,p.children)}else!_&&T==null&&M(A,p,O,V,g,E,w);((B=V.onVnodeUpdated)||U)&&je(()=>{B&&wt(B,g,p,h),U&&Jt(p,h,g,"updated")},E)},Ie=(h,p,g,E,w,I,_)=>{for(let A=0;A<p.length;A++){const b=h[A],T=p[A],U=b.el&&(b.type===at||!Zt(b,T)||b.shapeFlag&(6|64))?f(b.el):g;R(b,T,U,null,E,w,I,_,!0)}},M=(h,p,g,E,w,I,_)=>{if(g!==E){for(const A in E){if(Js(A))continue;const b=E[A],T=g[A];b!==T&&A!=="value"&&i(h,A,T,b,_,p.children,w,I,S)}if(g!==ae)for(const A in g)!Js(A)&&!(A in E)&&i(h,A,g[A],null,_,p.children,w,I,S);"value"in E&&i(h,"value",g.value,E.value)}},ve=(h,p,g,E,w,I,_,A,b)=>{const T=p.el=h?h.el:a(""),U=p.anchor=h?h.anchor:a("");let{patchFlag:O,dynamicChildren:V,slotScopeIds:B}=p;B&&(A=A?A.concat(B):B),h==null?(s(T,g,E),s(U,g,E),ue(p.children,g,U,w,I,_,A,b)):O>0&&O&64&&V&&h.dynamicChildren?(Ie(h.dynamicChildren,V,g,w,I,_,A),(p.key!=null||w&&p===w.subTree)&&Yl(h,p,!0)):rt(h,p,g,U,w,I,_,A,b)},ze=(h,p,g,E,w,I,_,A,b)=>{p.slotScopeIds=A,h==null?p.shapeFlag&512?w.ctx.activate(p,g,E,_,b):bt(p,g,E,w,I,_,b):we(h,p,b)},bt=(h,p,g,E,w,I,_)=>{const A=h.component=Cp(h,E,w);if(dr(h)&&(A.ctx.renderer=fe),Sp(A),A.asyncDep){if(w&&w.registerDep(A,he),!h.el){const b=A.subTree=Be(ft);F(null,b,p,g)}return}he(A,h,p,g,w,I,_)},we=(h,p,g)=>{const E=p.component=h.component;if(Ud(h,p,g))if(E.asyncDep&&!E.asyncResolved){re(E,p,g);return}else E.next=p,kp(E.update),E.update();else p.component=h.component,p.el=h.el,E.vnode=p},he=(h,p,g,E,w,I,_)=>{const A=()=>{if(h.isMounted){let{next:U,bu:O,u:V,parent:B,vnode:Y}=h,me=U,oe;b.allowRecurse=!1,U?(U.el=Y.el,re(h,U,_)):U=Y,O&&er(O),(oe=U.props&&U.props.onVnodeBeforeUpdate)&&wt(oe,B,U,Y),b.allowRecurse=!0;const de=zi(h),ut=h.subTree;h.subTree=de,R(ut,de,f(ut.el),L(ut),h,w,I),U.el=de.el,me===null&&Vd(h,de.el),V&&je(V,w),(oe=U.props&&U.props.onVnodeUpdated)&&je(()=>wt(oe,B,U,Y),w)}else{let U;const{el:O,props:V}=p,{bm:B,m:Y,parent:me}=h,oe=Qi(p);if(b.allowRecurse=!1,B&&er(B),!oe&&(U=V&&V.onVnodeBeforeMount)&&wt(U,me,p),b.allowRecurse=!0,O&&q){const de=()=>{h.subTree=zi(h),q(O,h.subTree,h,w,null)};oe?p.type.__asyncLoader().then(()=>!h.isUnmounted&&de()):de()}else{const de=h.subTree=zi(h);R(null,de,g,E,h,w,I),p.el=de.el}if(Y&&je(Y,w),!oe&&(U=V&&V.onVnodeMounted)){const de=p;je(()=>wt(U,me,de),w)}p.shapeFlag&256&&h.a&&je(h.a,w),h.isMounted=!0,p=g=E=null}},b=new Fi(A,()=>gc(h.update),h.scope),T=h.update=b.run.bind(b);T.id=h.uid,b.allowRecurse=T.allowRecurse=!0,T()},re=(h,p,g)=>{p.component=h;const E=h.vnode.props;h.vnode=p,h.next=null,op(h,p.props,E,g),cp(h,p.children,g),An(),uo(void 0,h.update),Xt()},rt=(h,p,g,E,w,I,_,A,b=!1)=>{const T=h&&h.children,U=h?h.shapeFlag:0,O=p.children,{patchFlag:V,shapeFlag:B}=p;if(V>0){if(V&128){Ct(T,O,g,E,w,I,_,A,b);return}else if(V&256){mn(T,O,g,E,w,I,_,A,b);return}}B&8?(U&16&&S(T,w,I),O!==T&&u(g,O)):U&16?B&16?Ct(T,O,g,E,w,I,_,A,b):S(T,w,I,!0):(U&8&&u(g,""),B&16&&ue(O,g,E,w,I,_,A,b))},mn=(h,p,g,E,w,I,_,A,b)=>{h=h||vn,p=p||vn;const T=h.length,U=p.length,O=Math.min(T,U);let V;for(V=0;V<O;V++){const B=p[V]=b?Mt(p[V]):Et(p[V]);R(h[V],B,g,null,w,I,_,A,b)}T>U?S(h,w,I,!0,!1,O):ue(p,g,E,w,I,_,A,b,O)},Ct=(h,p,g,E,w,I,_,A,b)=>{let T=0;const U=p.length;let O=h.length-1,V=U-1;for(;T<=O&&T<=V;){const B=h[T],Y=p[T]=b?Mt(p[T]):Et(p[T]);if(Zt(B,Y))R(B,Y,g,null,w,I,_,A,b);else break;T++}for(;T<=O&&T<=V;){const B=h[O],Y=p[V]=b?Mt(p[V]):Et(p[V]);if(Zt(B,Y))R(B,Y,g,null,w,I,_,A,b);else break;O--,V--}if(T>O){if(T<=V){const B=V+1,Y=B<U?p[B].el:E;for(;T<=V;)R(null,p[T]=b?Mt(p[T]):Et(p[T]),g,Y,w,I,_,A,b),T++}}else if(T>V)for(;T<=O;)it(h[T],w,I,!0),T++;else{const B=T,Y=T,me=new Map;for(T=Y;T<=V;T++){const Ye=p[T]=b?Mt(p[T]):Et(p[T]);Ye.key!=null&&me.set(Ye.key,T)}let oe,de=0;const ut=V-Y+1;let yn=!1,za=0;const Jn=new Array(ut);for(T=0;T<ut;T++)Jn[T]=0;for(T=B;T<=O;T++){const Ye=h[T];if(de>=ut){it(Ye,w,I,!0);continue}let mt;if(Ye.key!=null)mt=me.get(Ye.key);else for(oe=Y;oe<=V;oe++)if(Jn[oe-Y]===0&&Zt(Ye,p[oe])){mt=oe;break}mt===void 0?it(Ye,w,I,!0):(Jn[mt-Y]=T+1,mt>=za?za=mt:yn=!0,R(Ye,p[mt],g,null,w,I,_,A,b),de++)}const Ga=yn?pp(Jn):vn;for(oe=Ga.length-1,T=ut-1;T>=0;T--){const Ye=Y+T,mt=p[Ye],Wa=Ye+1<U?p[Ye+1].el:E;Jn[T]===0?R(null,mt,g,Wa,w,I,_,A,b):yn&&(oe<0||T!==Ga[oe]?gt(mt,g,Wa,2):oe--)}}},gt=(h,p,g,E,w=null)=>{const{el:I,type:_,transition:A,children:b,shapeFlag:T}=h;if(T&6){gt(h.component.subTree,p,g,E);return}if(T&128){h.suspense.move(p,g,E);return}if(T&64){_.move(h,p,g,fe);return}if(_===at){s(I,p,g);for(let O=0;O<b.length;O++)gt(b[O],p,g,E);s(h.anchor,p,g);return}if(_===mr){G(h,p,g);return}if(E!==2&&T&1&&A)if(E===0)A.beforeEnter(I),s(I,p,g),je(()=>A.enter(I),w);else{const{leave:O,delayLeave:V,afterLeave:B}=A,Y=()=>s(I,p,g),me=()=>{O(I,()=>{Y(),B&&B()})};V?V(I,Y,me):me()}else s(I,p,g)},it=(h,p,g,E=!1,w=!1)=>{const{type:I,props:_,ref:A,children:b,dynamicChildren:T,shapeFlag:U,patchFlag:O,dirs:V}=h;if(A!=null&&to(A,null,g,h,!0),U&256){p.ctx.deactivate(h);return}const B=U&1&&V,Y=!Qi(h);let me;if(Y&&(me=_&&_.onVnodeBeforeUnmount)&&wt(me,p,h),U&6)k(h.component,g,E);else{if(U&128){h.suspense.unmount(g,E);return}B&&Jt(h,null,p,"beforeUnmount"),U&64?h.type.remove(h,p,g,w,fe,E):T&&(I!==at||O>0&&O&64)?S(T,p,g,!1,!0):(I===at&&O&(128|256)||!w&&U&16)&&S(b,p,g),E&&Ii(h)}(Y&&(me=_&&_.onVnodeUnmounted)||B)&&je(()=>{me&&wt(me,p,h),B&&Jt(h,null,p,"unmounted")},g)},Ii=h=>{const{type:p,el:g,anchor:E,transition:w}=h;if(p===at){y(g,E);return}if(p===mr){ce(h);return}const I=()=>{r(g),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(h.shapeFlag&1&&w&&!w.persisted){const{leave:_,delayLeave:A}=w,b=()=>_(g,I);A?A(h.el,I,b):b()}else I()},y=(h,p)=>{let g;for(;h!==p;)g=d(h),r(h),h=g;r(p)},k=(h,p,g)=>{const{bum:E,scope:w,update:I,subTree:_,um:A}=h;E&&er(E),w.stop(),I&&(I.active=!1,it(_,h,p,g)),A&&je(A,p),je(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},S=(h,p,g,E=!1,w=!1,I=0)=>{for(let _=I;_<h.length;_++)it(h[_],p,g,E,w)},L=h=>h.shapeFlag&6?L(h.component.subTree):h.shapeFlag&128?h.suspense.next():d(h.anchor||h.el),ie=(h,p,g)=>{h==null?p._vnode&&it(p._vnode,null,null,!0):R(p._vnode||null,h,p,null,null,null,g),vc(),p._vnode=h},fe={p:R,um:it,m:gt,r:Ii,mt:bt,mc:ue,pc:rt,pbc:Ie,n:L,o:e};let Q,q;return t&&([Q,q]=t(fe)),{render:ie,hydrate:Q,createApp:hp(ie,Q)}}function to(e,t,n,s,r=!1){if(K(e)){e.forEach((d,m)=>to(d,t&&(K(t)?t[m]:t),n,s,r));return}if(Qi(s)&&!r)return;const i=s.shapeFlag&4?oo(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ae?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(Oe(c)?(u[c]=null,ee(f,c)&&(f[c]=null)):Ge(c)&&(c.value=null)),Oe(l)){const d=()=>{u[l]=o,ee(f,l)&&(f[l]=o)};o?(d.id=-1,je(d,n)):d()}else if(Ge(l)){const d=()=>{l.value=o};o?(d.id=-1,je(d,n)):d()}else z(l)&&Lt(l,a,12,[o,u])}function wt(e,t,n,s=null){lt(e,t,7,[n,s])}function Yl(e,t,n=!1){const s=e.children,r=t.children;if(K(s)&&K(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Mt(r[i]),a.el=o.el),n||Yl(o,a))}}function pp(e){const t=e.slice(),n=[0];let s,r,i,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(r=n[n.length-1],e[r]<c){t[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}const gp=e=>e.__isTeleport,no="components";function s0(e,t){return ec(no,e,!0,t)||e}const Zl=Symbol();function r0(e){return Oe(e)?ec(no,e,!1)||e:e||Zl}function ec(e,t,n=!0,s=!1){const r=et||Re;if(r){const i=r.type;if(e===no){const a=xp(i);if(a&&(a===t||a===yt(t)||a===Zs(yt(t))))return i}const o=tc(r[e]||i[e],t)||tc(r.appContext[e],t);return!o&&s?i:o}}function tc(e,t){return e&&(e[t]||e[yt(t)]||e[Zs(yt(t))])}const at=Symbol(void 0),so=Symbol(void 0),ft=Symbol(void 0),mr=Symbol(void 0),rs=[];let Yt=null;function nc(e=!1){rs.push(Yt=e?null:[])}function mp(){rs.pop(),Yt=rs[rs.length-1]||null}let yr=1;function sc(e){yr+=e}function rc(e){return e.dynamicChildren=yr>0?Yt||vn:null,mp(),yr>0&&Yt&&Yt.push(e),e}function i0(e,t,n,s,r,i){return rc(ac(e,t,n,s,r,i,!0))}function ic(e,t,n,s,r){return rc(Be(e,t,n,s,r,!0))}function vr(e){return e?e.__v_isVNode===!0:!1}function Zt(e,t){return e.type===t.type&&e.key===t.key}const wr="__vInternal",oc=({key:e})=>e!=null?e:null,Er=({ref:e})=>e!=null?Oe(e)||Ge(e)||z(e)?{i:et,r:e}:e:null;function ac(e,t=null,n=null,s=0,r=null,i=e===at?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&oc(t),ref:t&&Er(t),scopeId:ur,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null};return a?(ro(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=Oe(n)?8:16),yr>0&&!o&&Yt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Yt.push(l),l}const Be=yp;function yp(e,t=null,n=null,s=0,r=null,i=!1){if((!e||e===Zl)&&(e=ft),vr(e)){const a=Cn(e,t,!0);return n&&ro(a,n),a}if(Dp(e)&&(e=e.__vccOpts),t){t=vp(t);let{class:a,style:l}=t;a&&!Oe(a)&&(t.class=Ri(a)),Se(l)&&(Tl(l)&&!K(l)&&(l=Pe({},l)),t.style=_i(l))}const o=Oe(e)?1:$d(e)?128:gp(e)?64:Se(e)?4:z(e)?2:0;return ac(e,t,n,s,r,o,i,!0)}function vp(e){return e?Tl(e)||wr in e?Pe({},e):e:null}function Cn(e,t,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=e,a=t?Ep(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&oc(a),ref:t&&t.ref?n&&r?K(r)?r.concat(Er(t)):[r,Er(t)]:Er(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==at?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Cn(e.ssContent),ssFallback:e.ssFallback&&Cn(e.ssFallback),el:e.el,anchor:e.anchor}}function wp(e=" ",t=0){return Be(so,null,e,t)}function o0(e,t){const n=Be(mr,null,e);return n.staticCount=t,n}function a0(e="",t=!1){return t?(nc(),ic(ft,null,e)):Be(ft,null,e)}function Et(e){return e==null||typeof e=="boolean"?Be(ft):K(e)?Be(at,null,e.slice()):typeof e=="object"?Mt(e):Be(so,null,String(e))}function Mt(e){return e.el===null||e.memo?e:Cn(e)}function ro(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(K(t))n=16;else if(typeof t=="object")if(s&(1|64)){const r=t.default;r&&(r._c&&(r._d=!1),ro(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(wr in t)?t._ctx=et:r===3&&et&&(et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else z(t)?(t={default:t,_ctx:et},n=32):(t=String(t),s&64?(n=16,t=[wp(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ep(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=Ri([t.class,s.class]));else if(r==="style")t.style=_i([t.style,s.style]);else if(Xs(r)){const i=t[r],o=s[r];i!==o&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function l0(e,t,n={},s,r){if(et.isCE)return Be("slot",t==="default"?null:{name:t},s&&s());let i=e[t];i&&i._c&&(i._d=!1),nc();const o=i&&lc(i(n)),a=ic(at,{key:n.key||`_${t}`},o||(s?s():[]),o&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function lc(e){return e.some(t=>vr(t)?!(t.type===ft||t.type===at&&!lc(t.children)):!0)?e:null}const io=e=>e?cc(e)?oo(e)||e.proxy:io(e.parent):null,Tr=Pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>io(e.parent),$root:e=>io(e.root),$emit:e=>e.emit,$options:e=>$l(e),$forceUpdate:e=>()=>gc(e.update),$nextTick:e=>pc.bind(e.proxy),$watch:e=>Fp.bind(e)}),Tp={get({_:e},t){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 0:return s[t];case 1:return r[t];case 3:return n[t];case 2:return i[t]}else{if(s!==ae&&ee(s,t))return o[t]=0,s[t];if(r!==ae&&ee(r,t))return o[t]=1,r[t];if((c=e.propsOptions[0])&&ee(c,t))return o[t]=2,i[t];if(n!==ae&&ee(n,t))return o[t]=3,n[t];Ji&&(o[t]=4)}}const u=Tr[t];let f,d;if(u)return t==="$attrs"&&Ze(e,"get",t),u(e);if((f=a.__cssModules)&&(f=f[t]))return f;if(n!==ae&&ee(n,t))return o[t]=3,n[t];if(d=l.config.globalProperties,ee(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:r,ctx:i}=e;if(r!==ae&&ee(r,t))r[t]=n;else if(s!==ae&&ee(s,t))s[t]=n;else if(ee(e.props,t))return!1;return t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return n[o]!==void 0||e!==ae&&ee(e,o)||t!==ae&&ee(t,o)||(a=i[0])&&ee(a,o)||ee(s,o)||ee(Tr,o)||ee(r.config.globalProperties,o)}},Ap=Jl();let bp=0;function Cp(e,t,n){const s=e.type,r=(t?t.appContext:e.appContext)||Ap,i={uid:bp++,vnode:e,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,update:null,scope:new ed(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hl(s,r),emitsOptions:_l(s,r),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:s.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=kd.bind(null,i),e.ce&&e.ce(i),i}let Re=null;const Ip=()=>Re||et,In=e=>{Re=e,e.scope.on()},en=()=>{Re&&Re.scope.off(),Re=null};function cc(e){return e.vnode.shapeFlag&4}let Ar=!1;function Sp(e,t=!1){Ar=t;const{props:n,children:s}=e.vnode,r=cc(e);ip(e,n,r,t),lp(e,s);const i=r?_p(e,t):void 0;return Ar=!1,i}function _p(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Al(new Proxy(e.ctx,Tp));const{setup:s}=n;if(s){const r=e.setupContext=s.length>1?Np(e):null;In(e),An();const i=Lt(s,e,0,[e.props,r]);if(Xt(),en(),Za(i)){if(i.then(en,en),t)return i.then(o=>{uc(e,o,t)}).catch(o=>{br(o,e,0)});e.asyncDep=i}else uc(e,i,t)}else fc(e,t)}function uc(e,t,n){z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Se(t)&&(e.setupState=Sl(t)),fc(e,n)}let hc;function fc(e,t,n){const s=e.type;if(!e.render){if(!t&&hc&&!s.render){const r=s.template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Pe(Pe({isCustomElement:i,delimiters:a},o),l);s.render=hc(r,c)}}e.render=s.render||ht}In(e),An(),ep(e),Xt(),en()}function Rp(e){return new Proxy(e.attrs,{get(t,n){return Ze(e,"get","$attrs"),t[n]}})}function Np(e){const t=s=>{e.exposed=s||{}};let n;return{get attrs(){return n||(n=Rp(e))},slots:e.slots,emit:e.emit,expose:t}}function oo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Sl(Al(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Tr)return Tr[n](e)}}))}function xp(e){return z(e)&&e.displayName||e.name}function Dp(e){return z(e)&&"__vccOpts"in e}function Lt(e,t,n,s){let r;try{r=s?e(...s):e()}catch(i){br(i,t,n)}return r}function lt(e,t,n,s){if(z(e)){const i=Lt(e,t,n,s);return i&&Za(i)&&i.catch(o=>{br(o,t,n)}),i}const r=[];for(let i=0;i<e.length;i++)r.push(lt(e[i],t,n,s));return r}function br(e,t,n,s=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){Lt(l,null,10,[e,o,a]);return}}Pp(e,n,r,s)}function Pp(e,t,n,s=!0){console.error(e)}let Cr=!1,ao=!1;const tt=[];let _t=0;const is=[];let os=null,Sn=0;const as=[];let Ft=null,_n=0;const dc=Promise.resolve();let lo=null,co=null;function pc(e){const t=lo||dc;return e?t.then(this?e.bind(this):e):t}function Op(e){let t=_t+1,n=tt.length;for(;t<n;){const s=t+n>>>1;ls(tt[s])<e?t=s+1:n=s}return t}function gc(e){(!tt.length||!tt.includes(e,Cr&&e.allowRecurse?_t+1:_t))&&e!==co&&(e.id==null?tt.push(e):tt.splice(Op(e.id),0,e),mc())}function mc(){!Cr&&!ao&&(ao=!0,lo=dc.then(wc))}function kp(e){const t=tt.indexOf(e);t>_t&&tt.splice(t,1)}function yc(e,t,n,s){K(e)?n.push(...e):(!t||!t.includes(e,e.allowRecurse?s+1:s))&&n.push(e),mc()}function Mp(e){yc(e,os,is,Sn)}function Lp(e){yc(e,Ft,as,_n)}function uo(e,t=null){if(is.length){for(co=t,os=[...new Set(is)],is.length=0,Sn=0;Sn<os.length;Sn++)os[Sn]();os=null,Sn=0,co=null,uo(e,t)}}function vc(e){if(as.length){const t=[...new Set(as)];if(as.length=0,Ft){Ft.push(...t);return}for(Ft=t,Ft.sort((n,s)=>ls(n)-ls(s)),_n=0;_n<Ft.length;_n++)Ft[_n]();Ft=null,_n=0}}const ls=e=>e.id==null?1/0:e.id;function wc(e){ao=!1,Cr=!0,uo(e),tt.sort((n,s)=>ls(n)-ls(s));const t=ht;try{for(_t=0;_t<tt.length;_t++){const n=tt[_t];n&&n.active!==!1&&Lt(n,null,14)}}finally{_t=0,tt.length=0,vc(),Cr=!1,lo=null,(tt.length||is.length||as.length)&&wc(e)}}const Ec={};function Ir(e,t,n){return Tc(e,t,n)}function Tc(e,t,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=ae){const a=Re;let l,c=!1,u=!1;if(Ge(e)?(l=()=>e.value,c=!!e._shallow):bn(e)?(l=()=>e,s=!0):K(e)?(u=!0,c=e.some(bn),l=()=>e.map(N=>{if(Ge(N))return N.value;if(bn(N))return tn(N);if(z(N))return Lt(N,a,2)})):z(e)?t?l=()=>Lt(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),lt(e,a,3,[d])}:l=ht,t&&s){const N=l;l=()=>tn(N())}let f,d=N=>{f=R.onStop=()=>{Lt(N,a,4)}};if(Ar)return d=ht,t?n&&lt(t,a,3,[l(),u?[]:void 0,d]):l(),ht;let m=u?[]:Ec;const v=()=>{if(!!R.active)if(t){const N=R.run();(s||c||(u?N.some((F,W)=>Yn(F,m[W])):Yn(N,m)))&&(f&&f(),lt(t,a,3,[N,m===Ec?void 0:m,d]),m=N)}else R.run()};v.allowRecurse=!!t;let P;r==="sync"?P=v:r==="post"?P=()=>je(v,a&&a.suspense):P=()=>{!a||a.isMounted?Mp(v):v()};const R=new Fi(l,P);return t?n?v():m=R.run():r==="post"?je(R.run.bind(R),a&&a.suspense):R.run(),()=>{R.stop(),a&&a.scope&&Ja(a.scope.effects,R)}}function Fp(e,t,n){const s=this.proxy,r=Oe(e)?e.includes(".")?Ac(s,e):()=>s[e]:e.bind(s,s);let i;z(t)?i=t:(i=t.handler,n=t);const o=Re;In(this);const a=Tc(r,i.bind(s),n);return o?In(o):en(),a}function Ac(e,t){const n=t.split(".");return()=>{let s=e;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function tn(e,t){if(!Se(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Ge(e))tn(e.value,t);else if(K(e))for(let n=0;n<e.length;n++)tn(e[n],t);else if(Ya(e)||wn(e))e.forEach(n=>{tn(n,t)});else if(tl(e))for(const n in e)tn(e[n],t);return e}function ho(e,t,n){const s=arguments.length;return s===2?Se(t)&&!K(t)?vr(t)?Be(e,null,[t]):Be(e,t):Be(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&vr(n)&&(n=[n]),Be(e,t,n))}const Up="3.2.21",Vp="http://www.w3.org/2000/svg",Rn=typeof document!="undefined"?document:null,bc=new Map,$p={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const r=t?Rn.createElementNS(Vp,e):Rn.createElement(e,n?{is:n}:void 0);return e==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:e=>Rn.createTextNode(e),createComment:e=>Rn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Rn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,s){const r=n?n.previousSibling:t.lastChild;let i=bc.get(e);if(!i){const o=Rn.createElement("template");if(o.innerHTML=s?`<svg>${e}</svg>`:e,i=o.content,s){const a=i.firstChild;for(;a.firstChild;)i.appendChild(a.firstChild);i.removeChild(a)}bc.set(e,i)}return t.insertBefore(i.cloneNode(!0),n),[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function jp(e,t,n){const s=e._vtc;s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Bp(e,t,n){const s=e.style,r=Oe(n);if(n&&!r){for(const i in n)fo(s,i,n[i]);if(t&&!Oe(t))for(const i in t)n[i]==null&&fo(s,i,"")}else{const i=s.display;r?t!==n&&(s.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=i)}}const Cc=/\s*!important$/;function fo(e,t,n){if(K(n))n.forEach(s=>fo(e,t,s));else if(t.startsWith("--"))e.setProperty(t,n);else{const s=Hp(e,t);Cc.test(n)?e.setProperty(En(s),n.replace(Cc,""),"important"):e[s]=n}}const Ic=["Webkit","Moz","ms"],po={};function Hp(e,t){const n=po[t];if(n)return n;let s=yt(t);if(s!=="filter"&&s in e)return po[t]=s;s=Zs(s);for(let r=0;r<Ic.length;r++){const i=Ic[r]+s;if(i in e)return po[t]=i}return t}const Sc="http://www.w3.org/1999/xlink";function Kp(e,t,n,s,r){if(s&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Sc,t.slice(6,t.length)):e.setAttributeNS(Sc,t,n);else{const i=Hf(t);n==null||i&&!Xa(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function qp(e,t,n,s,r,i,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,r,i),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"){e._value=n;const a=n==null?"":n;e.value!==a&&(e.value=a),n==null&&e.removeAttribute(t);return}if(n===""||n==null){const a=typeof e[t];if(a==="boolean"){e[t]=Xa(n);return}else if(n==null&&a==="string"){e[t]="",e.removeAttribute(t);return}else if(a==="number"){try{e[t]=0}catch{}e.removeAttribute(t);return}}try{e[t]=n}catch{}}let Sr=Date.now,_c=!1;if(typeof window!="undefined"){Sr()>document.createEvent("Event").timeStamp&&(Sr=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);_c=!!(e&&Number(e[1])<=53)}let go=0;const zp=Promise.resolve(),Gp=()=>{go=0},Wp=()=>go||(zp.then(Gp),go=Sr());function Nn(e,t,n,s){e.addEventListener(t,n,s)}function Xp(e,t,n,s){e.removeEventListener(t,n,s)}function Qp(e,t,n,s,r=null){const i=e._vei||(e._vei={}),o=i[t];if(s&&o)o.value=s;else{const[a,l]=Jp(t);if(s){const c=i[t]=Yp(s,r);Nn(e,a,c,l)}else o&&(Xp(e,a,o,l),i[t]=void 0)}}const Rc=/(?:Once|Passive|Capture)$/;function Jp(e){let t;if(Rc.test(e)){t={};let n;for(;n=e.match(Rc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[En(e.slice(2)),t]}function Yp(e,t){const n=s=>{const r=s.timeStamp||Sr();(_c||r>=n.attached-1)&&lt(Zp(s,n.value),t,5,[s])};return n.value=e,n.attached=Wp(),n}function Zp(e,t){if(K(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>r=>!r._stopped&&s(r))}else return t}const Nc=/^on[a-z]/,eg=(e,t,n,s,r=!1,i,o,a,l)=>{t==="class"?jp(e,s,r):t==="style"?Bp(e,n,s):Xs(t)?Ni(t)||Qp(e,t,n,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):tg(e,t,s,r))?qp(e,t,s,i,o,a,l):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Kp(e,t,s,r))};function tg(e,t,n,s){return s?!!(t==="innerHTML"||t==="textContent"||t in e&&Nc.test(t)&&z(n)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Nc.test(t)&&Oe(n)?!1:t in e}const Ut="transition",cs="animation",xc=(e,{slots:t})=>ho(Nl,ng(e),t);xc.displayName="Transition";const Dc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};xc.props=Pe({},Nl.props,Dc);const nn=(e,t=[])=>{K(e)?e.forEach(n=>n(...t)):e&&e(...t)},Pc=e=>e?K(e)?e.some(t=>t.length>1):e.length>1:!1;function ng(e){const t={};for(const M in e)M in Dc||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,v=sg(r),P=v&&v[0],R=v&&v[1],{onBeforeEnter:N,onEnter:F,onEnterCancelled:W,onLeave:G,onLeaveCancelled:ce,onBeforeAppear:Ee=N,onAppear:X=F,onAppearCancelled:Te=W}=t,ue=(M,ve,ze)=>{xn(M,ve?u:a),xn(M,ve?c:o),ze&&ze()},De=(M,ve)=>{xn(M,m),xn(M,d),ve&&ve()},Ie=M=>(ve,ze)=>{const bt=M?X:F,we=()=>ue(ve,M,ze);nn(bt,[ve,we]),Oc(()=>{xn(ve,M?l:i),Vt(ve,M?u:a),Pc(bt)||kc(ve,s,P,we)})};return Pe(t,{onBeforeEnter(M){nn(N,[M]),Vt(M,i),Vt(M,o)},onBeforeAppear(M){nn(Ee,[M]),Vt(M,l),Vt(M,c)},onEnter:Ie(!1),onAppear:Ie(!0),onLeave(M,ve){const ze=()=>De(M,ve);Vt(M,f),og(),Vt(M,d),Oc(()=>{xn(M,f),Vt(M,m),Pc(G)||kc(M,s,R,ze)}),nn(G,[M,ze])},onEnterCancelled(M){ue(M,!1),nn(W,[M])},onAppearCancelled(M){ue(M,!0),nn(Te,[M])},onLeaveCancelled(M){De(M),nn(ce,[M])}})}function sg(e){if(e==null)return null;if(Se(e))return[mo(e.enter),mo(e.leave)];{const t=mo(e);return[t,t]}}function mo(e){return nr(e)}function Vt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function xn(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Oc(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let rg=0;function kc(e,t,n,s){const r=e._endId=++rg,i=()=>{r===e._endId&&s()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:l}=ig(e,t);if(!o)return s();const c=o+"end";let u=0;const f=()=>{e.removeEventListener(c,d),i()},d=m=>{m.target===e&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),e.addEventListener(c,d)}function ig(e,t){const n=window.getComputedStyle(e),s=v=>(n[v]||"").split(", "),r=s(Ut+"Delay"),i=s(Ut+"Duration"),o=Mc(r,i),a=s(cs+"Delay"),l=s(cs+"Duration"),c=Mc(a,l);let u=null,f=0,d=0;t===Ut?o>0&&(u=Ut,f=o,d=i.length):t===cs?c>0&&(u=cs,f=c,d=l.length):(f=Math.max(o,c),u=f>0?o>c?Ut:cs:null,d=u?u===Ut?i.length:l.length:0);const m=u===Ut&&/\b(transform|all)(,|$)/.test(n[Ut+"Property"]);return{type:u,timeout:f,propCount:d,hasTransform:m}}function Mc(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Lc(n)+Lc(e[s])))}function Lc(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function og(){return document.body.offsetHeight}const Fc=e=>{const t=e.props["onUpdate:modelValue"];return K(t)?n=>er(t,n):t};function ag(e){e.target.composing=!0}function Uc(e){const t=e.target;t.composing&&(t.composing=!1,lg(t,"input"))}function lg(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}const c0={created(e,{modifiers:{lazy:t,trim:n,number:s}},r){e._assign=Fc(r);const i=s||r.props&&r.props.type==="number";Nn(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n?a=a.trim():i&&(a=nr(a)),e._assign(a)}),n&&Nn(e,"change",()=>{e.value=e.value.trim()}),t||(Nn(e,"compositionstart",ag),Nn(e,"compositionend",Uc),Nn(e,"change",Uc))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:s,number:r}},i){if(e._assign=Fc(i),e.composing||document.activeElement===e&&(n||s&&e.value.trim()===t||(r||e.type==="number")&&nr(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},cg=["ctrl","shift","alt","meta"],ug={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>cg.some(n=>e[`${n}Key`]&&!t.includes(n))},u0=(e,t)=>(n,...s)=>{for(let r=0;r<t.length;r++){const i=ug[t[r]];if(i&&i(n,t))return}return e(n,...s)},h0={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):us(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),us(e,!0),s.enter(e)):s.leave(e,()=>{us(e,!1)}):us(e,t))},beforeUnmount(e,{value:t}){us(e,t)}};function us(e,t){e.style.display=t?e._vod:"none"}const hg=Pe({patchProp:eg},$p);let Vc;function fg(){return Vc||(Vc=fp(hg))}const f0=(...e)=>{const t=fg().createApp(...e),{mount:n}=t;return t.mount=s=>{const r=dg(s);if(!r)return;const i=t._component;!z(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function dg(e){return Oe(e)?document.querySelector(e):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gg(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function mg(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function yg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vg(){return _r().indexOf("Electron/")>=0}function wg(){const e=_r();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Eg(){return _r().indexOf("MSAppHost/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="FirebaseError";class Rr extends Error{constructor(t,n,s){super(n);this.code=t,this.customData=s,this.name=Tg,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?Ag(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Rr(r,a,s)}}function Ag(e,t){return e.replace(bg,(n,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const bg=/\{\$([^}]+)}/g;function yo(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const i=e[r],o=t[r];if(jc(i)&&jc(o)){if(!yo(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function jc(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e){return e&&e._delegate?e._delegate:e}class Nr{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new pg;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Sg(t))try{this.getOrInitializeService({instanceIdentifier:sn})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(t=sn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sn){return this.instances.has(t)}getOptions(t=sn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(t,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(!!s)for(const r of s)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ig(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=sn){return this.component?this.component.multipleInstances?t:sn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ig(e){return e===sn?void 0:e}function Sg(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new Cg(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(se||(se={}));const Rg={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Ng=se.INFO,xg={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Dg=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),r=xg[t];if(r)console[r](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bc{constructor(t){this.name=t,this._logLevel=Ng,this._logHandler=Dg,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Rg[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...t),this._logHandler(this,se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...t),this._logHandler(this,se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,se.INFO,...t),this._logHandler(this,se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,se.WARN,...t),this._logHandler(this,se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...t),this._logHandler(this,se.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Og(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Og(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const vo="@firebase/app",Hc="0.7.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Bc("@firebase/app"),kg="@firebase/app-compat",Mg="@firebase/analytics-compat",Lg="@firebase/analytics",Fg="@firebase/app-check-compat",Ug="@firebase/app-check",Vg="@firebase/auth",$g="@firebase/auth-compat",jg="@firebase/database",Bg="@firebase/database-compat",Hg="@firebase/functions",Kg="@firebase/functions-compat",qg="@firebase/installations",zg="@firebase/installations-compat",Gg="@firebase/messaging",Wg="@firebase/messaging-compat",Xg="@firebase/performance",Qg="@firebase/performance-compat",Jg="@firebase/remote-config",Yg="@firebase/remote-config-compat",Zg="@firebase/storage",em="@firebase/storage-compat",tm="@firebase/firestore",nm="@firebase/firestore-compat",sm="firebase",rm="9.6.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="[DEFAULT]",im={[vo]:"fire-core",[kg]:"fire-core-compat",[Lg]:"fire-analytics",[Mg]:"fire-analytics-compat",[Ug]:"fire-app-check",[Fg]:"fire-app-check-compat",[Vg]:"fire-auth",[$g]:"fire-auth-compat",[jg]:"fire-rtdb",[Bg]:"fire-rtdb-compat",[Hg]:"fire-fn",[Kg]:"fire-fn-compat",[qg]:"fire-iid",[zg]:"fire-iid-compat",[Gg]:"fire-fcm",[Wg]:"fire-fcm-compat",[Xg]:"fire-perf",[Qg]:"fire-perf-compat",[Jg]:"fire-rc",[Yg]:"fire-rc-compat",[Zg]:"fire-gcs",[em]:"fire-gcs-compat",[tm]:"fire-fst",[nm]:"fire-fst-compat","fire-js":"fire-js",[sm]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Map,Eo=new Map;function om(e,t){try{e.container.addComponent(t)}catch(n){wo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function To(e){const t=e.name;if(Eo.has(t))return wo.debug(`There were multiple attempts to register component ${t}.`),!1;Eo.set(t,e);for(const n of xr.values())om(n,e);return!0}function am(e,t){return e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function."},Dr=new $c("app","Firebase",lm);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=rm;function d0(e,t={}){typeof t!="object"&&(t={name:t});const n=Object.assign({name:Kc,automaticDataCollectionEnabled:!1},t),s=n.name;if(typeof s!="string"||!s)throw Dr.create("bad-app-name",{appName:String(s)});const r=xr.get(s);if(r){if(yo(e,r.options)&&yo(n,r.config))return r;throw Dr.create("duplicate-app",{appName:s})}const i=new _g(s);for(const a of Eo.values())i.addComponent(a);const o=new cm(e,n,i);return xr.set(s,o),o}function hm(e=Kc){const t=xr.get(e);if(!t)throw Dr.create("no-app",{appName:e});return t}function Dn(e,t,n){var s;let r=(s=im[e])!==null&&s!==void 0?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${t}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),wo.warn(a.join(" "));return}To(new Nr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(e){To(new Nr("platform-logger",t=>new Pg(t),"PRIVATE")),Dn(vo,Hc,e),Dn(vo,Hc,"esm2017"),Dn("fire-js","")}fm("");var dm="firebase",pm="9.6.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(dm,pm,"app");var gm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},x,Ao=Ao||{},j=gm||self;function Pr(){}function bo(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function fs(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function mm(e){return Object.prototype.hasOwnProperty.call(e,Co)&&e[Co]||(e[Co]=++ym)}var Co="closure_uid_"+(1e9*Math.random()>>>0),ym=0;function vm(e,t,n){return e.call.apply(e.bind,arguments)}function wm(e,t,n){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),e.apply(t,r)}}return function(){return e.apply(t,arguments)}}function ke(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ke=vm:ke=wm,ke.apply(null,arguments)}function Or(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),e.apply(this,s)}}function Me(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[r].apply(s,o)}}function $t(){this.s=this.s,this.o=this.o}var Em=0,Tm={};$t.prototype.s=!1;$t.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),Em!=0)){var e=mm(this);delete Tm[e]}};$t.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},zc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const s=e.length,r=typeof e=="string"?e.split(""):e;for(let i=0;i<s;i++)i in r&&t.call(n,r[i],i,e)};function Am(e){e:{var t=dy;const n=e.length,s=typeof e=="string"?e.split(""):e;for(let r=0;r<n;r++)if(r in s&&t.call(void 0,s[r],r,e)){t=r;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function Gc(e){return Array.prototype.concat.apply([],arguments)}function Io(e){const t=e.length;if(0<t){const n=Array(t);for(let s=0;s<t;s++)n[s]=e[s];return n}return[]}function kr(e){return/^[\s\xa0]*$/.test(e)}var Wc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function He(e,t){return e.indexOf(t)!=-1}function So(e,t){return e<t?-1:e>t?1:0}var Ke;e:{var Xc=j.navigator;if(Xc){var Qc=Xc.userAgent;if(Qc){Ke=Qc;break e}}Ke=""}function _o(e,t,n){for(const s in e)t.call(n,e[s],s,e)}function Jc(e){const t={};for(const n in e)t[n]=e[n];return t}var Yc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zc(e,t){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)e[n]=s[n];for(let i=0;i<Yc.length;i++)n=Yc[i],Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}}function Ro(e){return Ro[" "](e),e}Ro[" "]=Pr;function bm(e){var t=Sm;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var Cm=He(Ke,"Opera"),Pn=He(Ke,"Trident")||He(Ke,"MSIE"),eu=He(Ke,"Edge"),No=eu||Pn,tu=He(Ke,"Gecko")&&!(He(Ke.toLowerCase(),"webkit")&&!He(Ke,"Edge"))&&!(He(Ke,"Trident")||He(Ke,"MSIE"))&&!He(Ke,"Edge"),Im=He(Ke.toLowerCase(),"webkit")&&!He(Ke,"Edge");function nu(){var e=j.document;return e?e.documentMode:void 0}var Mr;e:{var xo="",Do=function(){var e=Ke;if(tu)return/rv:([^\);]+)(\)|;)/.exec(e);if(eu)return/Edge\/([\d\.]+)/.exec(e);if(Pn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Im)return/WebKit\/(\S+)/.exec(e);if(Cm)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Do&&(xo=Do?Do[1]:""),Pn){var Po=nu();if(Po!=null&&Po>parseFloat(xo)){Mr=String(Po);break e}}Mr=xo}var Sm={};function _m(){return bm(function(){let e=0;const t=Wc(String(Mr)).split("."),n=Wc("9").split("."),s=Math.max(t.length,n.length);for(let o=0;e==0&&o<s;o++){var r=t[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;e=So(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||So(r[2].length==0,i[2].length==0)||So(r[2],i[2]),r=r[3],i=i[3]}while(e==0)}return 0<=e})}var Oo;if(j.document&&Pn){var su=nu();Oo=su||parseInt(Mr,10)||void 0}else Oo=void 0;var Rm=Oo,Nm=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{j.addEventListener("test",Pr,t),j.removeEventListener("test",Pr,t)}catch{}return e}();function Ve(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};function ds(e,t){if(Ve.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tu){e:{try{Ro(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:xm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ds.Z.h.call(this)}}Me(ds,Ve);var xm={2:"touch",3:"pen",4:"mouse"};ds.prototype.h=function(){ds.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ps="closure_listenable_"+(1e6*Math.random()|0),Dm=0;function Pm(e,t,n,s,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!s,this.ia=r,this.key=++Dm,this.ca=this.fa=!1}function Lr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Fr(e){this.src=e,this.g={},this.h=0}Fr.prototype.add=function(e,t,n,s,r){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Mo(e,t,s,r);return-1<o?(t=e[o],n||(t.fa=!1)):(t=new Pm(t,this.src,i,!!s,r),t.fa=n,e.push(t)),t};function ko(e,t){var n=t.type;if(n in e.g){var s=e.g[n],r=qc(s,t),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Lr(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Mo(e,t,n,s){for(var r=0;r<e.length;++r){var i=e[r];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==s)return r}return-1}var Lo="closure_lm_"+(1e6*Math.random()|0),Fo={};function ru(e,t,n,s,r){if(s&&s.once)return ou(e,t,n,s,r);if(Array.isArray(t)){for(var i=0;i<t.length;i++)ru(e,t[i],n,s,r);return null}return n=jo(n),e&&e[ps]?e.N(t,n,fs(s)?!!s.capture:!!s,r):iu(e,t,n,!1,s,r)}function iu(e,t,n,s,r,i){if(!t)throw Error("Invalid event type");var o=fs(r)?!!r.capture:!!r,a=Vo(e);if(a||(e[Lo]=a=new Fr(e)),n=a.add(t,n,s,o,i),n.proxy)return n;if(s=Om(),n.proxy=s,s.src=e,s.listener=n,e.addEventListener)Nm||(r=o),r===void 0&&(r=!1),e.addEventListener(t.toString(),s,r);else if(e.attachEvent)e.attachEvent(lu(t.toString()),s);else if(e.addListener&&e.removeListener)e.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Om(){function e(n){return t.call(e.src,e.listener,n)}var t=km;return e}function ou(e,t,n,s,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)ou(e,t[i],n,s,r);return null}return n=jo(n),e&&e[ps]?e.O(t,n,fs(s)?!!s.capture:!!s,r):iu(e,t,n,!0,s,r)}function au(e,t,n,s,r){if(Array.isArray(t))for(var i=0;i<t.length;i++)au(e,t[i],n,s,r);else s=fs(s)?!!s.capture:!!s,n=jo(n),e&&e[ps]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Mo(i,n,s,r),-1<n&&(Lr(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Vo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Mo(t,n,s,r)),(n=-1<e?t[e]:null)&&Uo(n))}function Uo(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[ps])ko(t.i,e);else{var n=e.type,s=e.proxy;t.removeEventListener?t.removeEventListener(n,s,e.capture):t.detachEvent?t.detachEvent(lu(n),s):t.addListener&&t.removeListener&&t.removeListener(s),(n=Vo(t))?(ko(n,e),n.h==0&&(n.src=null,t[Lo]=null)):Lr(e)}}}function lu(e){return e in Fo?Fo[e]:Fo[e]="on"+e}function km(e,t){if(e.ca)e=!0;else{t=new ds(t,this);var n=e.listener,s=e.ia||e.src;e.fa&&Uo(e),e=n.call(s,t)}return e}function Vo(e){return e=e[Lo],e instanceof Fr?e:null}var $o="__closure_events_fn_"+(1e9*Math.random()>>>0);function jo(e){return typeof e=="function"?e:(e[$o]||(e[$o]=function(t){return e.handleEvent(t)}),e[$o])}function Ne(){$t.call(this),this.i=new Fr(this),this.P=this,this.I=null}Me(Ne,$t);Ne.prototype[ps]=!0;Ne.prototype.removeEventListener=function(e,t,n,s){au(this,e,t,n,s)};function Le(e,t){var n,s=e.I;if(s)for(n=[];s;s=s.I)n.push(s);if(e=e.P,s=t.type||t,typeof t=="string")t=new Ve(t,e);else if(t instanceof Ve)t.target=t.target||e;else{var r=t;t=new Ve(s,e),Zc(t,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];r=Ur(o,s,!0,t)&&r}if(o=t.g=e,r=Ur(o,s,!0,t)&&r,r=Ur(o,s,!1,t)&&r,n)for(i=0;i<n.length;i++)o=t.g=n[i],r=Ur(o,s,!1,t)&&r}Ne.prototype.M=function(){if(Ne.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],s=0;s<n.length;s++)Lr(n[s]);delete e.g[t],e.h--}}this.I=null};Ne.prototype.N=function(e,t,n,s){return this.i.add(String(e),t,!1,n,s)};Ne.prototype.O=function(e,t,n,s){return this.i.add(String(e),t,!0,n,s)};function Ur(e,t,n,s){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&ko(e.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var Bo=j.JSON.stringify;function Mm(){var e=uu;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Lm{constructor(){this.h=this.g=null}add(t,n){const s=cu.get();s.set(t,n),this.h?this.h.next=s:this.g=s,this.h=s}}var cu=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Fm,e=>e.reset());class Fm{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Um(e){j.setTimeout(()=>{throw e},0)}function Ho(e,t){Ko||Vm(),qo||(Ko(),qo=!0),uu.add(e,t)}var Ko;function Vm(){var e=j.Promise.resolve(void 0);Ko=function(){e.then($m)}}var qo=!1,uu=new Lm;function $m(){for(var e;e=Mm();){try{e.h.call(e.g)}catch(n){Um(n)}var t=cu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}qo=!1}function Vr(e,t){Ne.call(this),this.h=e||1,this.g=t||j,this.j=ke(this.kb,this),this.l=Date.now()}Me(Vr,Ne);x=Vr.prototype;x.da=!1;x.S=null;x.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Le(this,"tick"),this.da&&(zo(this),this.start()))}};x.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zo(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}x.M=function(){Vr.Z.M.call(this),zo(this),delete this.g};function Go(e,t,n){if(typeof e=="function")n&&(e=ke(e,n));else if(e&&typeof e.handleEvent=="function")e=ke(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:j.setTimeout(e,t||0)}function hu(e){e.g=Go(()=>{e.g=null,e.i&&(e.i=!1,hu(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class jm extends $t{constructor(t,n){super();this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:hu(this)}M(){super.M(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(e){$t.call(this),this.h=e,this.g={}}Me(gs,$t);var fu=[];function du(e,t,n,s){Array.isArray(n)||(n&&(fu[0]=n.toString()),n=fu);for(var r=0;r<n.length;r++){var i=ru(t,n[r],s||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function pu(e){_o(e.g,function(t,n){this.g.hasOwnProperty(n)&&Uo(t)},e),e.g={}}gs.prototype.M=function(){gs.Z.M.call(this),pu(this)};gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $r(){this.g=!0}$r.prototype.Aa=function(){this.g=!1};function Bm(e,t,n,s,r,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var f=u.split("_");o=2<=f.length&&f[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+t+`
`+n+`
`+o})}function Hm(e,t,n,s,r,i,o){e.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+t+`
`+n+`
`+i+" "+o})}function On(e,t,n,s){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+qm(e,n)+(s?" "+s:"")})}function Km(e,t){e.info(function(){return"TIMEOUT: "+t})}$r.prototype.info=function(){};function qm(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var s=n[e];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Bo(n)}catch{return t}}var rn={},gu=null;function jr(){return gu=gu||new Ne}rn.Ma="serverreachability";function mu(e){Ve.call(this,rn.Ma,e)}Me(mu,Ve);function ms(e){const t=jr();Le(t,new mu(t,e))}rn.STAT_EVENT="statevent";function yu(e,t){Ve.call(this,rn.STAT_EVENT,e),this.stat=t}Me(yu,Ve);function qe(e){const t=jr();Le(t,new yu(t,e))}rn.Na="timingevent";function vu(e,t){Ve.call(this,rn.Na,e),this.size=t}Me(vu,Ve);function ys(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){e()},t)}var Br={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wo(){}Wo.prototype.h=null;function Eu(e){return e.h||(e.h=e.i())}function Tu(){}var vs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xo(){Ve.call(this,"d")}Me(Xo,Ve);function Qo(){Ve.call(this,"c")}Me(Qo,Ve);var Jo;function Hr(){}Me(Hr,Wo);Hr.prototype.g=function(){return new XMLHttpRequest};Hr.prototype.i=function(){return{}};Jo=new Hr;function ws(e,t,n,s){this.l=e,this.j=t,this.m=n,this.X=s||1,this.V=new gs(this),this.P=zm,e=No?125:void 0,this.W=new Vr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Au}function Au(){this.i=null,this.g="",this.h=!1}var zm=45e3,Yo={},Kr={};x=ws.prototype;x.setTimeout=function(e){this.P=e};function Zo(e,t,n){e.K=1,e.v=Xr(Rt(t)),e.s=n,e.U=!0,bu(e,null)}function bu(e,t){e.F=Date.now(),Es(e),e.A=Rt(e.v);var n=e.A,s=e.X;Array.isArray(s)||(s=[String(s)]),Pu(n.h,"t",s),e.C=0,n=e.l.H,e.h=new Au,e.g=th(e.l,n?t:null,!e.s),0<e.O&&(e.L=new jm(ke(e.Ia,e,e.g),e.O)),du(e.V,e.g,"readystatechange",e.gb),t=e.H?Jc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ms(1),Bm(e.j,e.u,e.A,e.m,e.X,e.s)}x.gb=function(e){e=e.target;const t=this.L;t&&Nt(e)==3?t.l():this.Ia(e)};x.Ia=function(e){try{if(e==this.g)e:{const u=Nt(this.g);var t=this.g.Da();const f=this.g.ba();if(!(3>u)&&(u!=3||No||this.g&&(this.h.h||this.g.ga()||Ku(this.g)))){this.I||u!=4||t==7||(t==8||0>=f?ms(3):ms(2)),qr(this);var n=this.g.ba();this.N=n;t:if(Cu(this)){var s=Ku(this.g);e="";var r=s.length,i=Nt(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){on(this),Ts(this);var o="";break t}this.h.i=new j.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(s[t],{stream:i&&t==r-1});s.splice(0,r),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,Hm(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kr(a)){var c=a;break t}}c=null}if(n=c)On(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ea(this,n);else{this.i=!1,this.o=3,qe(12),on(this),Ts(this);break e}}this.U?(Iu(this,u,o),No&&this.i&&u==3&&(du(this.V,this.W,"tick",this.fb),this.W.start())):(On(this.j,this.m,o,null),ea(this,o)),u==4&&on(this),this.i&&!this.I&&(u==4?Ju(this.l,this):(this.i=!1,Es(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,qe(12)):(this.o=0,qe(13)),on(this),Ts(this)}}}catch{}finally{}};function Cu(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function Iu(e,t,n){let s=!0,r;for(;!e.I&&e.C<n.length;)if(r=Gm(e,n),r==Kr){t==4&&(e.o=4,qe(14),s=!1),On(e.j,e.m,null,"[Incomplete Response]");break}else if(r==Yo){e.o=4,qe(15),On(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}else On(e.j,e.m,r,null),ea(e,r);Cu(e)&&r!=Kr&&r!=Yo&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,qe(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ha(t),t.L=!0,qe(11))):(On(e.j,e.m,n,"[Invalid Chunked Response]"),on(e),Ts(e))}x.fb=function(){if(this.g){var e=Nt(this.g),t=this.g.ga();this.C<t.length&&(qr(this),Iu(this,e,t),this.i&&e!=4&&Es(this))}};function Gm(e,t){var n=e.C,s=t.indexOf(`
`,n);return s==-1?Kr:(n=Number(t.substring(n,s)),isNaN(n)?Yo:(s+=1,s+n>t.length?Kr:(t=t.substr(s,n),e.C=s+n,t)))}x.cancel=function(){this.I=!0,on(this)};function Es(e){e.Y=Date.now()+e.P,Su(e,e.P)}function Su(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=ys(ke(e.eb,e),t)}function qr(e){e.B&&(j.clearTimeout(e.B),e.B=null)}x.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Km(this.j,this.A),this.K!=2&&(ms(3),qe(17)),on(this),this.o=2,Ts(this)):Su(this,this.Y-e)};function Ts(e){e.l.G==0||e.I||Ju(e.l,e)}function on(e){qr(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,zo(e.W),pu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ea(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||sa(n.i,e))){if(n.I=e.N,!e.J&&sa(n.i,e)&&n.G==3){try{var s=n.Ca.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)ti(n),Zr(n);else break e;ua(n),qe(18)}else n.ta=r[1],0<n.ta-n.U&&37500>r[2]&&n.N&&n.A==0&&!n.v&&(n.v=ys(ke(n.ab,n),6e3));if(1>=Mu(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else cn(n,11)}else if((e.J||n.g==e)&&ti(n),!kr(t))for(r=n.Ca.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const u=c[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const f=c[4];f!=null&&(n.za=f,n.h.info("SVER="+n.za));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(s=1.5*d,n.K=s,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const m=e.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=s.i;!i.g&&(He(v,"spdy")||He(v,"quic")||He(v,"h2"))&&(i.j=i.l,i.g=new Set,i.h&&(ra(i,i.h),i.h=null))}if(s.D){const P=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;P&&(s.sa=P,ye(s.F,s.D,P))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),s=n;var o=e;if(s.oa=eh(s,s.H?s.la:null,s.W),o.J){Lu(s.i,o);var a=o,l=s.K;l&&a.setTimeout(l),a.B&&(qr(a),Es(a)),s.g=o}else Xu(s);0<n.l.length&&ei(n)}else c[0]!="stop"&&c[0]!="close"||cn(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?cn(n,7):la(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}ms(4)}catch{}}function Wm(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(bo(e)){for(var t=[],n=e.length,s=0;s<n;s++)t.push(e[s]);return t}t=[],n=0;for(s in e)t[n++]=e[s];return t}function ta(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(bo(e)||typeof e=="string")zc(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(bo(e)||typeof e=="string"){n=[];for(var s=e.length,r=0;r<s;r++)n.push(r)}else for(r in n=[],s=0,e)n[s++]=r;s=Wm(e),r=s.length;for(var i=0;i<r;i++)t.call(void 0,s[i],n&&n[i],e)}}function kn(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(e)if(e instanceof kn)for(n=e.T(),s=0;s<n.length;s++)this.set(n[s],e.get(n[s]));else for(s in e)this.set(s,e[s])}x=kn.prototype;x.R=function(){na(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};x.T=function(){return na(this),this.g.concat()};function na(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var s=e.g[t];an(e.h,s)&&(e.g[n++]=s),t++}e.g.length=n}if(e.i!=e.g.length){var r={};for(n=t=0;t<e.g.length;)s=e.g[t],an(r,s)||(e.g[n++]=s,r[s]=1),t++;e.g.length=n}}x.get=function(e,t){return an(this.h,e)?this.h[e]:t};x.set=function(e,t){an(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};x.forEach=function(e,t){for(var n=this.T(),s=0;s<n.length;s++){var r=n[s],i=this.get(r);e.call(t,i,r,this)}};function an(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _u=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xm(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var s=e[n].indexOf("="),r=null;if(0<=s){var i=e[n].substring(0,s);r=e[n].substring(s+1)}else i=e[n];t(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function ln(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ln){this.g=t!==void 0?t:e.g,zr(this,e.j),this.s=e.s,Gr(this,e.i),Wr(this,e.m),this.l=e.l,t=e.h;var n=new Cs;n.i=t.i,t.g&&(n.g=new kn(t.g),n.h=t.h),Ru(this,n),this.o=e.o}else e&&(n=String(e).match(_u))?(this.g=!!t,zr(this,n[1]||"",!0),this.s=As(n[2]||""),Gr(this,n[3]||"",!0),Wr(this,n[4]),this.l=As(n[5]||"",!0),Ru(this,n[6]||"",!0),this.o=As(n[7]||"")):(this.g=!!t,this.h=new Cs(null,this.g))}ln.prototype.toString=function(){var e=[],t=this.j;t&&e.push(bs(t,Nu,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(bs(t,Nu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(bs(n,n.charAt(0)=="/"?ey:Zm,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",bs(n,ny)),e.join("")};function Rt(e){return new ln(e)}function zr(e,t,n){e.j=n?As(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Gr(e,t,n){e.i=n?As(t,!0):t}function Wr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ru(e,t,n){t instanceof Cs?(e.h=t,sy(e.h,e.g)):(n||(t=bs(t,ty)),e.h=new Cs(t,e.g))}function ye(e,t,n){e.h.set(t,n)}function Xr(e){return ye(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qm(e){return e instanceof ln?Rt(e):new ln(e,void 0)}function Jm(e,t,n,s){var r=new ln(null,void 0);return e&&zr(r,e),t&&Gr(r,t),n&&Wr(r,n),s&&(r.l=s),r}function As(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function bs(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Ym),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ym(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Nu=/[#\/\?@]/g,Zm=/[#\?:]/g,ey=/[#\?]/g,ty=/[#\?@]/g,ny=/#/g;function Cs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jt(e){e.g||(e.g=new kn,e.h=0,e.i&&Xm(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}x=Cs.prototype;x.add=function(e,t){jt(this),this.i=null,e=Mn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function xu(e,t){jt(e),t=Mn(e,t),an(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,an(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&na(e)))}function Du(e,t){return jt(e),t=Mn(e,t),an(e.g.h,t)}x.forEach=function(e,t){jt(this),this.g.forEach(function(n,s){zc(n,function(r){e.call(t,r,s,this)},this)},this)};x.T=function(){jt(this);for(var e=this.g.R(),t=this.g.T(),n=[],s=0;s<t.length;s++)for(var r=e[s],i=0;i<r.length;i++)n.push(t[s]);return n};x.R=function(e){jt(this);var t=[];if(typeof e=="string")Du(this,e)&&(t=Gc(t,this.g.get(Mn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Gc(t,e[n])}return t};x.set=function(e,t){return jt(this),this.i=null,e=Mn(this,e),Du(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};x.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function Pu(e,t,n){xu(e,t),0<n.length&&(e.i=null,e.g.set(Mn(e,t),Io(n)),e.h+=n.length)}x.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var s=t[n],r=encodeURIComponent(String(s));s=this.R(s);for(var i=0;i<s.length;i++){var o=r;s[i]!==""&&(o+="="+encodeURIComponent(String(s[i]))),e.push(o)}}return this.i=e.join("&")};function Mn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function sy(e,t){t&&!e.j&&(jt(e),e.i=null,e.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(xu(this,s),Pu(this,r,n))},e)),e.j=t}var ry=class{constructor(e,t){this.h=e,this.g=t}};function Ou(e){this.l=e||iy,j.PerformanceNavigationTiming?(e=j.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(j.g&&j.g.Ea&&j.g.Ea()&&j.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iy=10;function ku(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Mu(e){return e.h?1:e.g?e.g.size:0}function sa(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ra(e,t){e.g?e.g.add(t):e.h=t}function Lu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Ou.prototype.cancel=function(){if(this.i=Fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Fu(e){if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Io(e.i)}function ia(){}ia.prototype.stringify=function(e){return j.JSON.stringify(e,void 0)};ia.prototype.parse=function(e){return j.JSON.parse(e,void 0)};function oy(){this.g=new ia}function ay(e,t,n){const s=n||"";try{ta(e,function(r,i){let o=r;fs(r)&&(o=Bo(r)),t.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw t.push(s+"type="+encodeURIComponent("_badmap")),r}}function ly(e,t){const n=new $r;if(j.Image){const s=new Image;s.onload=Or(Qr,n,s,"TestLoadImage: loaded",!0,t),s.onerror=Or(Qr,n,s,"TestLoadImage: error",!1,t),s.onabort=Or(Qr,n,s,"TestLoadImage: abort",!1,t),s.ontimeout=Or(Qr,n,s,"TestLoadImage: timeout",!1,t),j.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=e}else t(!1)}function Qr(e,t,n,s,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(s)}catch{}}function Is(e){this.l=e.$b||null,this.j=e.ib||!1}Me(Is,Wo);Is.prototype.g=function(){return new Jr(this.l,this.j)};Is.prototype.i=function(e){return function(){return e}}({});function Jr(e,t){Ne.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=oa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Me(Jr,Ne);var oa=0;x=Jr.prototype;x.open=function(e,t){if(this.readyState!=oa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_s(this)};x.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||j).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=oa};x.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof j.ReadableStream!="undefined"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Uu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function Uu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}x.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ss(this):_s(this),this.readyState==3&&Uu(this)}};x.Ua=function(e){this.g&&(this.response=this.responseText=e,Ss(this))};x.Ta=function(e){this.g&&(this.response=e,Ss(this))};x.ha=function(){this.g&&Ss(this)};function Ss(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_s(e)}x.setRequestHeader=function(e,t){this.v.append(e,t)};x.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};x.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function _s(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var cy=j.JSON.parse;function be(e){Ne.call(this),this.headers=new kn,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vu,this.K=this.L=!1}Me(be,Ne);var Vu="",uy=/^https?$/i,hy=["POST","PUT"];x=be.prototype;x.ea=function(e,t,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jo.g(),this.C=this.u?Eu(this.u):Eu(Jo),this.g.onreadystatechange=ke(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){$u(this,i);return}e=n||"";const r=new kn(this.headers);s&&ta(s,function(i,o){r.set(o,i)}),s=Am(r.T()),n=j.FormData&&e instanceof j.FormData,!(0<=qc(hy,t))||s||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(i,o){this.g.setRequestHeader(o,i)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hu(this),0<this.B&&((this.K=fy(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.pa,this)):this.A=Go(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){$u(this,i)}};function fy(e){return Pn&&_m()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function dy(e){return e.toLowerCase()=="content-type"}x.pa=function(){typeof Ao!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Le(this,"timeout"),this.abort(8))};function $u(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ju(e),Yr(e)}function ju(e){e.D||(e.D=!0,Le(e,"complete"),Le(e,"error"))}x.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Le(this,"complete"),Le(this,"abort"),Yr(this))};x.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yr(this,!0)),be.Z.M.call(this)};x.Fa=function(){this.s||(this.F||this.v||this.l?Bu(this):this.cb())};x.cb=function(){Bu(this)};function Bu(e){if(e.h&&typeof Ao!="undefined"&&(!e.C[1]||Nt(e)!=4||e.ba()!=2)){if(e.v&&Nt(e)==4)Go(e.Fa,0,e);else if(Le(e,"readystatechange"),Nt(e)==4){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=a===0){var r=String(e.H).match(_u)[1]||null;if(!r&&j.self&&j.self.location){var i=j.self.location.protocol;r=i.substr(0,i.length-1)}s=!uy.test(r?r.toLowerCase():"")}n=s}if(n)Le(e,"complete"),Le(e,"success");else{e.m=6;try{var o=2<Nt(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.ba()+"]",ju(e)}}finally{Yr(e)}}}}function Yr(e,t){if(e.g){Hu(e);const n=e.g,s=e.C[0]?Pr:null;e.g=null,e.C=null,t||Le(e,"ready");try{n.onreadystatechange=s}catch{}}}function Hu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(j.clearTimeout(e.A),e.A=null)}function Nt(e){return e.g?e.g.readyState:0}x.ba=function(){try{return 2<Nt(this)?this.g.status:-1}catch{return-1}};x.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};x.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),cy(t)}};function Ku(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Vu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}x.Da=function(){return this.m};x.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function py(e){let t="";return _o(e,function(n,s){t+=s,t+=":",t+=n,t+=`\r
`}),t}function aa(e,t,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=py(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ye(e,t,n))}function Rs(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qu(e){this.za=0,this.l=[],this.h=new $r,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rs("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rs("baseRetryDelayMs",5e3,e),this.$a=Rs("retryDelaySeedMs",1e4,e),this.Ya=Rs("forwardChannelMaxRetries",2,e),this.ra=Rs("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ou(e&&e.concurrentRequestLimit),this.Ca=new oy,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}x=qu.prototype;x.ma=8;x.G=1;function la(e){if(zu(e),e.G==3){var t=e.V++,n=Rt(e.F);ye(n,"SID",e.J),ye(n,"RID",t),ye(n,"TYPE","terminate"),Ns(e,n),t=new ws(e,e.h,t,void 0),t.K=2,t.v=Xr(Rt(n)),n=!1,j.navigator&&j.navigator.sendBeacon&&(n=j.navigator.sendBeacon(t.v.toString(),"")),!n&&j.Image&&(new Image().src=t.v,n=!0),n||(t.g=th(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Es(t)}Zu(e)}x.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Zr(e){e.g&&(ha(e),e.g.cancel(),e.g=null)}function zu(e){Zr(e),e.u&&(j.clearTimeout(e.u),e.u=null),ti(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&j.clearTimeout(e.m),e.m=null)}function ca(e,t){e.l.push(new ry(e.Za++,t)),e.G==3&&ei(e)}function ei(e){ku(e.i)||e.m||(e.m=!0,Ho(e.Ha,e),e.C=0)}function gy(e,t){return Mu(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=ys(ke(e.Ha,e,t),Yu(e,e.C)),e.C++,!0)}x.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new ws(this,this.h,e,void 0);let i=this.s;if(this.P&&(i?(i=Jc(i),Zc(i,this.P)):i=this.P),this.o===null&&(r.H=i),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){t:{var s=this.l[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=n;break e}if(t===4096||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Wu(this,r,t),n=Rt(this.F),ye(n,"RID",e),ye(n,"CVER",22),this.D&&ye(n,"X-HTTP-Session-Id",this.D),Ns(this,n),this.o&&i&&aa(n,this.o,i),ra(this.i,r),this.Ra&&ye(n,"TYPE","init"),this.ja?(ye(n,"$req",t),ye(n,"SID","null"),r.$=!0,Zo(r,n,null)):Zo(r,n,t),this.G=2}}else this.G==3&&(e?Gu(this,e):this.l.length==0||ku(this.i)||Gu(this))};function Gu(e,t){var n;t?n=t.m:n=e.V++;const s=Rt(e.F);ye(s,"SID",e.J),ye(s,"RID",n),ye(s,"AID",e.U),Ns(e,s),e.o&&e.s&&aa(s,e.o,e.s),n=new ws(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Wu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ra(e.i,n),Zo(n,s,t)}function Ns(e,t){e.j&&ta({},function(n,s){ye(t,s,n)})}function Wu(e,t,n){n=Math.min(e.l.length,n);var s=e.j?ke(e.j.Oa,e.j,e):null;e:{var r=e.l;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{ay(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,s}function Xu(e){e.g||e.u||(e.Y=1,Ho(e.Ga,e),e.A=0)}function ua(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=ys(ke(e.Ga,e),Yu(e,e.A)),e.A++,!0)}x.Ga=function(){if(this.u=null,Qu(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ys(ke(this.bb,this),e)}};x.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qe(10),Zr(this),Qu(this))};function ha(e){e.B!=null&&(j.clearTimeout(e.B),e.B=null)}function Qu(e){e.g=new ws(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Rt(e.oa);ye(t,"RID","rpc"),ye(t,"SID",e.J),ye(t,"CI",e.N?"0":"1"),ye(t,"AID",e.U),Ns(e,t),ye(t,"TYPE","xmlhttp"),e.o&&e.s&&aa(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Xr(Rt(t)),n.s=null,n.U=!0,bu(n,e)}x.ab=function(){this.v!=null&&(this.v=null,Zr(this),ua(this),qe(19))};function ti(e){e.v!=null&&(j.clearTimeout(e.v),e.v=null)}function Ju(e,t){var n=null;if(e.g==t){ti(e),ha(e),e.g=null;var s=2}else if(sa(e.i,t))n=t.D,Lu(e.i,t),s=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(s==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var r=e.C;s=jr(),Le(s,new vu(s,n,t,r)),ei(e)}else Xu(e);else if(r=t.o,r==3||r==0&&0<e.I||!(s==1&&gy(e,t)||s==2&&ua(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}}function Yu(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function cn(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var s=ke(e.jb,e);n||(n=new ln("//www.google.com/images/cleardot.gif"),j.location&&j.location.protocol=="http"||zr(n,"https"),Xr(n)),ly(n.toString(),s)}else qe(2);e.G=0,e.j&&e.j.va(t),Zu(e),zu(e)}x.jb=function(e){e?(this.h.info("Successfully pinged google.com"),qe(2)):(this.h.info("Failed to ping google.com"),qe(1))};function Zu(e){e.G=0,e.I=-1,e.j&&((Fu(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Io(e.l),e.l.length=0),e.j.ua())}function eh(e,t,n){let s=Qm(n);if(s.i!="")t&&Gr(s,t+"."+s.i),Wr(s,s.m);else{const r=j.location;s=Jm(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,n)}return e.aa&&_o(e.aa,function(r,i){ye(s,i,r)}),t=e.D,n=e.sa,t&&n&&ye(s,t,n),ye(s,"VER",e.ma),Ns(e,s),s}function th(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new be(new Is({ib:!0})):new be(e.qa),t.L=e.H,t}function nh(){}x=nh.prototype;x.xa=function(){};x.wa=function(){};x.va=function(){};x.ua=function(){};x.Oa=function(){};function ni(){if(Pn&&!(10<=Number(Rm)))throw Error("Environmental error: no available transport.")}ni.prototype.g=function(e,t){return new nt(e,t)};function nt(e,t){Ne.call(this),this.g=new qu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!kr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kr(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ln(this)}Me(nt,Ne);nt.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ho(ke(e.hb,e,t))),qe(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=eh(e,null,e.W),ei(e)};nt.prototype.close=function(){la(this.g)};nt.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,ca(this.g,t)}else this.v?(t={},t.__data__=Bo(e),ca(this.g,t)):ca(this.g,e)};nt.prototype.M=function(){this.g.j=null,delete this.j,la(this.g),delete this.g,nt.Z.M.call(this)};function sh(e){Xo.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Me(sh,Xo);function rh(){Qo.call(this),this.status=1}Me(rh,Qo);function Ln(e){this.g=e}Me(Ln,nh);Ln.prototype.xa=function(){Le(this.g,"a")};Ln.prototype.wa=function(e){Le(this.g,new sh(e))};Ln.prototype.va=function(e){Le(this.g,new rh(e))};Ln.prototype.ua=function(){Le(this.g,"b")};ni.prototype.createWebChannel=ni.prototype.g;nt.prototype.send=nt.prototype.u;nt.prototype.open=nt.prototype.m;nt.prototype.close=nt.prototype.close;Br.NO_ERROR=0;Br.TIMEOUT=8;Br.HTTP_ERROR=6;wu.COMPLETE="complete";Tu.EventType=vs;vs.OPEN="a";vs.CLOSE="b";vs.ERROR="c";vs.MESSAGE="d";Ne.prototype.listen=Ne.prototype.N;be.prototype.listenOnce=be.prototype.O;be.prototype.getLastError=be.prototype.La;be.prototype.getLastErrorCode=be.prototype.Da;be.prototype.getStatus=be.prototype.ba;be.prototype.getResponseJson=be.prototype.Qa;be.prototype.getResponseText=be.prototype.ga;be.prototype.send=be.prototype.ea;var my=function(){return new ni},yy=function(){return jr()},fa=Br,vy=wu,wy=rn,ih={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ey=Is,si=Tu,Ty=be;const oh="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fn="9.6.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Bc("@firebase/firestore");function ah(){return un.logLevel}function $(e,...t){if(un.logLevel<=se.DEBUG){const n=t.map(da);un.debug(`Firestore (${Fn}): ${e}`,...n)}}function hn(e,...t){if(un.logLevel<=se.ERROR){const n=t.map(da);un.error(`Firestore (${Fn}): ${e}`,...n)}}function lh(e,...t){if(un.logLevel<=se.WARN){const n=t.map(da);un.warn(`Firestore (${Fn}): ${e}`,...n)}}function da(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e="Unexpected state"){const t=`FIRESTORE (${Fn}) INTERNAL ASSERTION FAILED: `+e;throw hn(t),new Error(t)}function _e(e,t){e||te()}function pe(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class by{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}}class Cy{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fn,t.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fn)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_e(typeof s.accessToken=="string"),new Ay(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string"),new We(t)}}class Iy{constructor(t,n,s){this.type="FirstParty",this.user=We.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class Sy{constructor(t,n,s){this.h=t,this.l=n,this.m=s}getToken(){return Promise.resolve(new Iy(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _y{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ry{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null}start(t,n){this.o=r=>{t.enqueueRetryable(()=>(i=>(i.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`),n(i.token)))(r))};const s=r=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.g.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.g.getImmediate({optional:!0});r?s(r):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(_e(typeof n.token=="string"),new _y(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.p(s),this.T=s=>n.writeSequenceNumber(s))}p(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e){const t=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ch.I=-1;class uh{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const r=Ny(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=t.charAt(r[i]%t.length))}return s}}function ge(e,t){return e<t?-1:e>t?1:0}function Un(e,t,n){return e.length===t.length&&e.every((s,r)=>n(s,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new H(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new H(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new H(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ct.fromMillis(Date.now())}static fromDate(t){return ct.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*n));return new ct(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ge(this.nanoseconds,t.nanoseconds):ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Xe(t)}static min(){return new Xe(new ct(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function xs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,n,s){n===void 0?n=0:n>t.length&&te(),s===void 0?s=t.length-n:s>t.length-n&&te(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ds.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ds?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let r=0;r<s;r++){const i=t.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Ae extends Ds{construct(t,n,s){return new Ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new H(C.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const xy=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ds{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return xy.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qe(["__name__"])}static fromServerFormat(t){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new H(C.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<t.length;){const a=t[r];if(a==="\\"){if(r+1===t.length)throw new H(C.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new H(C.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(t){this.fields=t,t.sort(Qe.comparator)}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Un(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=atob(t);return new xt(n)}static fromUint8Array(t){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(t);return new xt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const Dy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dn(e){if(_e(!!e),typeof e=="string"){let t=0;const n=Dy.exec(e);if(_e(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Fe(e.seconds),nanos:Fe(e.nanos)}}function Fe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ps(e){return typeof e=="string"?xt.fromBase64String(e):xt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ri(e){const t=dn(e.mapValue.fields.__local_write_time__.timestampValue);return new ct(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(e){return e==null}function ii(e){return e===0&&1/e==-1/0}function Oy(e){return typeof e=="number"&&Number.isInteger(e)&&!ii(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(Ae.fromString(t))}static fromName(t){return new Z(Ae.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return t!==null&&Ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new Ae(t.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Py(e)?4:10:te()}function Tt(e,t){if(e===t)return!0;const n=Vn(e);if(n!==Vn(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ri(e).isEqual(ri(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=dn(s.timestampValue),o=dn(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Ps(s.bytesValue).isEqual(Ps(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return Fe(s.geoPointValue.latitude)===Fe(r.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Fe(s.integerValue)===Fe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Fe(s.doubleValue),o=Fe(r.doubleValue);return i===o?ii(i)===ii(o):isNaN(i)&&isNaN(o)}return!1}(e,t);case 9:return Un(e.arrayValue.values||[],t.arrayValue.values||[],Tt);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(hh(i)!==hh(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Tt(i[a],o[a])))return!1;return!0}(e,t);default:return te()}}function ks(e,t){return(e.values||[]).find(n=>Tt(n,t))!==void 0}function $n(e,t){if(e===t)return 0;const n=Vn(e),s=Vn(t);if(n!==s)return ge(n,s);switch(n){case 0:return 0;case 1:return ge(e.booleanValue,t.booleanValue);case 2:return function(r,i){const o=Fe(r.integerValue||r.doubleValue),a=Fe(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return dh(e.timestampValue,t.timestampValue);case 4:return dh(ri(e),ri(t));case 5:return ge(e.stringValue,t.stringValue);case 6:return function(r,i){const o=Ps(r),a=Ps(i);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ge(o[l],a[l]);if(c!==0)return c}return ge(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,i){const o=ge(Fe(r.latitude),Fe(i.latitude));return o!==0?o:ge(Fe(r.longitude),Fe(i.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=$n(o[l],a[l]);if(c)return c}return ge(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,i){const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const f=ge(a[u],c[u]);if(f!==0)return f;const d=$n(o[a[u]],l[c[u]]);if(d!==0)return d}return ge(a.length,c.length)}(e.mapValue,t.mapValue);default:throw te()}}function dh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ge(e,t);const n=dn(e),s=dn(t),r=ge(n.seconds,s.seconds);return r!==0?r:ge(n.nanos,s.nanos)}function ga(e){return ma(e)}function ma(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(s){const r=dn(s);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ps(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Z.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=ma(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${ma(s.fields[a])}`;return i+"}"}(e.mapValue):te();var t,n}function ya(e){return!!e&&"integerValue"in e}function va(e){return!!e&&"arrayValue"in e}function oi(e){return!!e&&"mapValue"in e}function Ms(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return xs(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Ms(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ms(e.arrayValue.values[n]);return t}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(t){this.value=t}static empty(){return new At({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!oi(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ms(n)}setAll(t){let n=Qe.emptyPath(),s={},r=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Ms(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(t){const n=this.field(t.popLast());oi(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Tt(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let r=n.mapValue.fields[t.get(s)];oi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,s){xs(n,(r,i)=>t[r]=i);for(const r of s)delete t[r]}clone(){return new At(Ms(this.value))}}function ph(e){const t=[];return xs(e.fields,(n,s)=>{const r=new Qe([n]);if(oi(s)){const i=ph(s.mapValue).fields;if(i.length===0)t.push(r);else for(const o of i)t.push(r.child(o))}else t.push(r)}),new pa(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t,n,s,r,i){this.key=t,this.documentType=n,this.version=s,this.data=r,this.documentState=i}static newInvalidDocument(t){return new dt(t,0,Xe.min(),At.empty(),0)}static newFoundDocument(t,n,s){return new dt(t,1,n,s,0)}static newNoDocument(t,n){return new dt(t,2,n,At.empty(),0)}static newUnknownDocument(t,n){return new dt(t,3,n,At.empty(),2)}convertToFoundDocument(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,n=null,s=[],r=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.R=null}}function gh(e,t=null,n=[],s=[],r=null,i=null,o=null){return new ky(e,t,n,s,r,i,o)}function wa(e){const t=pe(e);if(t.R===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Ly(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Os(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ai(t.startAt)),t.endAt&&(n+="|ub:",n+=ai(t.endAt)),t.R=n}return t.R}function My(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${ga(s.value)}`;var s}).join(", ")}]`),Os(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(n=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(n)).join(", ")}]`),e.startAt&&(t+=", startAt: "+ai(e.startAt)),e.endAt&&(t+=", endAt: "+ai(e.endAt)),`Target(${t})`}function Ea(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Ky(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(n=e.filters[r],s=t.filters[r],n.op!==s.op||!n.field.isEqual(s.field)||!Tt(n.value,s.value))return!1;var n,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vh(e.startAt,t.startAt)&&vh(e.endAt,t.endAt)}class Je extends class{}{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.P(t,n,s):new Fy(t,n,s):n==="array-contains"?new $y(t,s):n==="in"?new jy(t,s):n==="not-in"?new By(t,s):n==="array-contains-any"?new Hy(t,s):new Je(t,n,s)}static P(t,n,s){return n==="in"?new Uy(t,s):new Vy(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.v($n(n,this.value)):n!==null&&Vn(this.value)===Vn(n)&&this.v($n(n,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return te()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}function Ly(e){return e.field.canonicalString()+e.op.toString()+ga(e.value)}class Fy extends Je{constructor(t,n,s){super(t,n,s),this.key=Z.fromName(s.referenceValue)}matches(t){const n=Z.comparator(t.key,this.key);return this.v(n)}}class Uy extends Je{constructor(t,n){super(t,"in",n),this.keys=mh("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Vy extends Je{constructor(t,n){super(t,"not-in",n),this.keys=mh("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function mh(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Z.fromName(s.referenceValue))}class $y extends Je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return va(n)&&ks(n.arrayValue,this.value)}}class jy extends Je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ks(this.value.arrayValue,n)}}class By extends Je{constructor(t,n){super(t,"not-in",n)}matches(t){if(ks(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ks(this.value.arrayValue,n)}}class Hy extends Je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!va(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ks(this.value.arrayValue,s))}}class Ta{constructor(t,n){this.position=t,this.before=n}}function ai(e){return`${e.before?"b":"a"}:${e.position.map(t=>ga(t)).join(",")}`}class Ls{constructor(t,n="asc"){this.field=t,this.dir=n}}function Ky(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function yh(e,t,n){let s=0;for(let r=0;r<e.position.length;r++){const i=t[r],o=e.position[r];if(i.field.isKeyField()?s=Z.comparator(Z.fromName(o.referenceValue),n.key):s=$n(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return e.before?s<=0:s<0}function vh(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Tt(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.S=null,this.D=null,this.startAt,this.endAt}}function qy(e,t,n,s,r,i,o,a){return new li(e,t,n,s,r,i,o,a)}function zy(e){return new li(e)}function Gy(e){return!Os(e.limit)&&e.limitType==="F"}function Wy(e){return!Os(e.limit)&&e.limitType==="L"}function Xy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qy(e){for(const t of e.filters)if(t.V())return t.field;return null}function Jy(e){return e.collectionGroup!==null}function Fs(e){const t=pe(e);if(t.S===null){t.S=[];const n=Qy(t),s=Xy(t);if(n!==null&&s===null)n.isKeyField()||t.S.push(new Ls(n)),t.S.push(new Ls(Qe.keyField(),"asc"));else{let r=!1;for(const i of t.explicitOrderBy)t.S.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Ls(Qe.keyField(),i))}}}return t.S}function ci(e){const t=pe(e);if(!t.D)if(t.limitType==="F")t.D=gh(t.path,t.collectionGroup,Fs(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const i of Fs(t)){const o=i.dir==="desc"?"asc":"desc";n.push(new Ls(i.field,o))}const s=t.endAt?new Ta(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Ta(t.startAt.position,!t.startAt.before):null;t.D=gh(t.path,t.collectionGroup,n,t.filters,t.limit,s,r)}return t.D}function Yy(e,t,n){return new li(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function wh(e,t){return Ea(ci(e),ci(t))&&e.limitType===t.limitType}function Eh(e){return`${wa(ci(e))}|lt:${e.limitType}`}function Th(e){return`Query(target=${My(ci(e))}; limitType=${e.limitType})`}function Aa(e,t){return t.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Z.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(e,t)&&function(n,s){for(const r of n.explicitOrderBy)if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(n,s){return!(n.startAt&&!yh(n.startAt,Fs(n),s)||n.endAt&&yh(n.endAt,Fs(n),s))}(e,t)}function Zy(e){return(t,n)=>{let s=!1;for(const r of Fs(e)){const i=ev(r,t,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function ev(e,t,n){const s=e.field.isKeyField()?Z.comparator(t.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?$n(a,l):te()}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ii(t)?"-0":t}}function bh(e){return{integerValue:""+e}}function tv(e,t){return Oy(t)?bh(t):Ah(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this._=void 0}}function nv(e,t,n){return e instanceof Us?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,t):e instanceof Vs?Ih(e,t):e instanceof $s?Sh(e,t):function(s,r){const i=Ch(s,r),o=_h(i)+_h(s.N);return ya(i)&&ya(s.N)?bh(o):Ah(s.k,o)}(e,t)}function sv(e,t,n){return e instanceof Vs?Ih(e,t):e instanceof $s?Sh(e,t):n}function Ch(e,t){return e instanceof hi?ya(n=t)||function(s){return!!s&&"doubleValue"in s}(n)?t:{integerValue:0}:null;var n}class Us extends ui{}class Vs extends ui{constructor(t){super(),this.elements=t}}function Ih(e,t){const n=Rh(t);for(const s of e.elements)n.some(r=>Tt(r,s))||n.push(s);return{arrayValue:{values:n}}}class $s extends ui{constructor(t){super(),this.elements=t}}function Sh(e,t){let n=Rh(t);for(const s of e.elements)n=n.filter(r=>!Tt(r,s));return{arrayValue:{values:n}}}class hi extends ui{constructor(t,n){super(),this.k=t,this.N=n}}function _h(e){return Fe(e.integerValue||e.doubleValue)}function Rh(e){return va(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t,n){this.field=t,this.transform=n}}function iv(e,t){return e.field.isEqual(t.field)&&function(n,s){return n instanceof Vs&&s instanceof Vs||n instanceof $s&&s instanceof $s?Un(n.elements,s.elements,Tt):n instanceof hi&&s instanceof hi?Tt(n.N,s.N):n instanceof Us&&s instanceof Us}(e.transform,t.transform)}class ov{constructor(t,n){this.version=t,this.transformResults=n}}class jn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new jn}static exists(t){return new jn(void 0,t)}static updateTime(t){return new jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fi(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class di{}function av(e,t,n){e instanceof pi?function(s,r,i){const o=s.value.clone(),a=Ph(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(e,t,n):e instanceof Bn?function(s,r,i){if(!fi(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Ph(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(Dh(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(e,t,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,t,n)}function ba(e,t,n){e instanceof pi?function(s,r,i){if(!fi(s.precondition,r))return;const o=s.value.clone(),a=Oh(s.fieldTransforms,i,r);o.setAll(a),r.convertToFoundDocument(xh(r),o).setHasLocalMutations()}(e,t,n):e instanceof Bn?function(s,r,i){if(!fi(s.precondition,r))return;const o=Oh(s.fieldTransforms,i,r),a=r.data;a.setAll(Dh(s)),a.setAll(o),r.convertToFoundDocument(xh(r),a).setHasLocalMutations()}(e,t,n):function(s,r){fi(s.precondition,r)&&r.convertToNoDocument(Xe.min())}(e,t)}function lv(e,t){let n=null;for(const s of e.fieldTransforms){const r=t.data.field(s.field),i=Ch(s.transform,r||null);i!=null&&(n==null&&(n=At.empty()),n.set(s.field,i))}return n||null}function Nh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Un(n,s,(r,i)=>iv(r,i))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function xh(e){return e.isFoundDocument()?e.version:Xe.min()}class pi extends di{constructor(t,n,s,r=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}}class Bn extends di{constructor(t,n,s,r,i=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Dh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function Ph(e,t,n){const s=new Map;_e(e.length===n.length);for(let r=0;r<n.length;r++){const i=e[r],o=i.transform,a=t.data.field(i.field);s.set(i.field,sv(o,a,n[r]))}return s}function Oh(e,t,n){const s=new Map;for(const r of e){const i=r.transform,o=n.data.field(r.field);s.set(r.field,nv(i,o,t))}return s}class cv extends di{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class uv extends di{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,J;function hv(e){switch(e){default:return te();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function fv(e){if(e===void 0)return hn("GRPC error has no .code"),C.UNKNOWN;switch(e){case Ce.OK:return C.OK;case Ce.CANCELLED:return C.CANCELLED;case Ce.UNKNOWN:return C.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return C.INTERNAL;case Ce.UNAVAILABLE:return C.UNAVAILABLE;case Ce.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Ce.NOT_FOUND:return C.NOT_FOUND;case Ce.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Ce.ABORTED:return C.ABORTED;case Ce.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Ce.DATA_LOSS:return C.DATA_LOSS;default:return te()}}(J=Ce||(Ce={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t,n){this.comparator=t,this.root=n||Ue.EMPTY}insert(t,n){return new pt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(t){return new pt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(t,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gi(this.root,t,this.comparator,!1)}getReverseIterator(){return new gi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gi(this.root,t,this.comparator,!0)}}class gi{constructor(t,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?s(t.key,n):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ue{constructor(t,n,s,r,i){this.key=t,this.value=n,this.color=s!=null?s:Ue.RED,this.left=r!=null?r:Ue.EMPTY,this.right=i!=null?i:Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,r,i){return new Ue(t!=null?t:this.key,n!=null?n:this.value,s!=null?s:this.color,r!=null?r:this.left,i!=null?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let r=this;const i=s(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return Ue.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const t=this.left.check();if(t!==this.right.check())throw te();return t+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,t,n,s,r){return this}insert(e,t,n){return new Ue(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.comparator=t,this.data=new pt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new kh(this.data.getIterator())}getIteratorFrom(t){return new kh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof st)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new st(this.comparator);return n.data=t,n}}class kh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new pt(Z.comparator);function Mh(){return dv}const pv=new pt(Z.comparator);function Lh(){return pv}const gv=new pt(Z.comparator);function mv(){return gv}const yv=new st(Z.comparator);function pn(...e){let t=yv;for(const n of e)t=t.add(n);return t}const vv=new st(ge);function wv(){return vv}class Ev{constructor(t,n){this.databaseId=t,this.C=n}}function Ca(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tv(e,t){return e.C?t.toBase64():t.toUint8Array()}function Av(e,t){return Ca(e,t.toTimestamp())}function Hn(e){return _e(!!e),Xe.fromTimestamp(function(t){const n=dn(t);return new ct(n.seconds,n.nanos)}(e))}function Fh(e,t){return function(n){return new Ae(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function bv(e){const t=Ae.fromString(e);return _e(Ov(t)),t}function Ia(e,t){return Fh(e.databaseId,t.path)}function Cv(e){const t=bv(e);return t.length===4?Ae.emptyPath():Sv(t)}function Iv(e){return new Ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Sv(e){return _e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Uh(e,t,n){return{name:Ia(e,t),fields:n.value.mapValue.fields}}function _v(e,t){let n;if(t instanceof pi)n={update:Uh(e,t.key,t.value)};else if(t instanceof cv)n={delete:Ia(e,t.key)};else if(t instanceof Bn)n={update:Uh(e,t.key,t.data),updateMask:Pv(t.fieldMask)};else{if(!(t instanceof uv))return te();n={verify:Ia(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof Us)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Vs)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof $s)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof hi)return{fieldPath:i.field.canonicalString(),increment:o.N};throw te()}(0,s))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:Av(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:te()}(e,t.precondition)),n}function Rv(e,t){return e&&e.length>0?(_e(t!==void 0),e.map(n=>function(s,r){let i=s.updateTime?Hn(s.updateTime):Hn(r);return i.isEqual(Xe.min())&&(i=Hn(r)),new ov(i,s.transformResults||[])}(n,t))):[]}function Nv(e){let t=Cv(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){_e(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=Vh(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(f){return new Ls(Kn(f.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(f.direction))}(u)));let a=null;n.limit&&(a=function(u){let f;return f=typeof u=="object"?u.value:u,Os(f)?null:f}(n.limit));let l=null;n.startAt&&(l=$h(n.startAt));let c=null;return n.endAt&&(c=$h(n.endAt)),qy(t,r,o,i,a,"F",l,c)}function Vh(e){return e?e.unaryFilter!==void 0?[Dv(e)]:e.fieldFilter!==void 0?[xv(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(t=>Vh(t)).reduce((t,n)=>t.concat(n)):te():[]}function $h(e){const t=!!e.before,n=e.values||[];return new Ta(n,t)}function Kn(e){return Qe.fromServerFormat(e.fieldPath)}function xv(e){return Je.create(Kn(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(e.fieldFilter.op),e.fieldFilter.value)}function Dv(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kn(e.unaryFilter.field);return Je.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Kn(e.unaryFilter.field);return Je.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Kn(e.unaryFilter.field);return Je.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Kn(e.unaryFilter.field);return Je.create(r,"!=",{nullValue:"NULL_VALUE"});default:return te()}}function Pv(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Ov(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}const kv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new D((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):D.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):D.reject(n)}static resolve(t){return new D((n,s)=>{n(t)})}static reject(t){return new D((n,s)=>{s(t)})}static waitFor(t){return new D((n,s)=>{let r=0,i=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(t){let n=D.resolve(!1);for(const s of t)n=n.next(r=>r?D.resolve(r):s());return n}static forEach(t,n){const s=[];return t.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}}function mi(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(t,n,s,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(t.key)&&av(i,t,s[r])}}applyToLocalView(t){for(const n of this.baseMutations)n.key.isEqual(t.key)&&ba(n,t,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(t.key)&&ba(n,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(n=>{const s=t.get(n.key),r=s;this.applyToLocalView(r),s.isValidDocument()||r.convertToNoDocument(Xe.min())})}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pn())}isEqual(t){return this.batchId===t.batchId&&Un(this.mutations,t.mutations,(n,s)=>Nh(n,s))&&Un(this.baseMutations,t.baseMutations,(n,s)=>Nh(n,s))}}class Sa{constructor(t,n,s,r){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(t,n,s){_e(t.mutations.length===s.length);let r=mv();const i=t.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Sa(t,n,s,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t){this.Gt=t}}function Uv(e){const t=Nv({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Yy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.zt=new $v}addToCollectionParentIndex(t,n){return this.zt.add(n),D.resolve()}getCollectionParents(t,n){return D.resolve(this.zt.getEntries(n))}}class $v{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n]||new st(Ae.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(t){const n=t.lastSegment(),s=t.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(t){return(this.index[t]||new st(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.se=t}next(){return this.se+=2,this.se}static ie(){return new qn(0)}static re(){return new qn(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(e){if(e.code!==C.FAILED_PRECONDITION||e.message!==kv)throw e;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),r=this.inner[s];if(r!==void 0){for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,n]);r.push([t,n])}else this.inner[s]=[[t,n]]}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return s.length===1?delete this.inner[n]:s.splice(r,1),!0;return!1}forEach(t){xs(this.inner,(n,s)=>{for(const[r,i]of s)t(r,i)})}isEmpty(){return fh(this.inner)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.changes=new js(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}getReadTime(t){const n=this.changes.get(t);return n?n.readTime:Xe.min()}addEntry(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})}removeEntry(t,n=null){this.assertNotApplied(),this.changes.set(t,{document:dt.newInvalidDocument(t),readTime:n})}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?D.resolve(s.document):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n,s){this.Je=t,this.An=n,this.Jt=s}Rn(t,n){return this.An.getAllMutationBatchesAffectingDocumentKey(t,n).next(s=>this.bn(t,n,s))}bn(t,n,s){return this.Je.getEntry(t,n).next(r=>{for(const i of s)i.applyToLocalView(r);return r})}Pn(t,n){t.forEach((s,r)=>{for(const i of n)i.applyToLocalView(r)})}vn(t,n){return this.Je.getEntries(t,n).next(s=>this.Vn(t,s).next(()=>s))}Vn(t,n){return this.An.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>this.Pn(n,s))}getDocumentsMatchingQuery(t,n,s){return function(r){return Z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.Sn(t,n.path):Jy(n)?this.Dn(t,n,s):this.Cn(t,n,s)}Sn(t,n){return this.Rn(t,new Z(n)).next(s=>{let r=Lh();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}Dn(t,n,s){const r=n.collectionGroup;let i=Lh();return this.Jt.getCollectionParents(t,r).next(o=>D.forEach(o,a=>{const l=function(c,u){return new li(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.Cn(t,l,s).next(c=>{c.forEach((u,f)=>{i=i.insert(u,f)})})}).next(()=>i))}Cn(t,n,s){let r,i;return this.Je.getDocumentsMatchingQuery(t,n,s).next(o=>(r=o,this.An.getAllMutationBatchesAffectingQuery(t,n))).next(o=>(i=o,this.Nn(t,i,r).next(a=>{r=a;for(const l of i)for(const c of l.mutations){const u=c.key;let f=r.get(u);f==null&&(f=dt.newInvalidDocument(u),r=r.insert(u,f)),ba(c,f,l.localWriteTime),f.isFoundDocument()||(r=r.remove(u))}}))).next(()=>(r.forEach((o,a)=>{Aa(n,a)||(r=r.remove(o))}),r))}Nn(t,n,s){let r=pn();for(const o of n)for(const a of o.mutations)a instanceof Bn&&s.get(a.key)===null&&(r=r.add(a.key));let i=s;return this.Je.getEntries(t,r).next(o=>(o.forEach((a,l)=>{l.isFoundDocument()&&(i=i.insert(a,l))}),i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,n,s,r){this.targetId=t,this.fromCache=n,this.kn=s,this.xn=r}static $n(t,n){let s=pn(),r=pn();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new _a(t,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{On(t){this.Mn=t}getDocumentsMatchingQuery(t,n,s,r){return function(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}(n)||s.isEqual(Xe.min())?this.Fn(t,n):this.Mn.vn(t,r).next(i=>{const o=this.Ln(n,i);return(Gy(n)||Wy(n))&&this.Bn(n.limitType,o,r,s)?this.Fn(t,n):(ah()<=se.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Th(n)),this.Mn.getDocumentsMatchingQuery(t,n,s).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))})}Ln(t,n){let s=new st(Zy(t));return n.forEach((r,i)=>{Aa(t,i)&&(s=s.add(i))}),s}Bn(t,n,s,r){if(s.size!==n.size)return!0;const i=t==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(t,n){return ah()<=se.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Th(n)),this.Mn.getDocumentsMatchingQuery(t,n,Xe.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,n,s,r){this.persistence=t,this.Un=n,this.k=r,this.qn=new pt(ge),this.Kn=new js(i=>wa(i),Ea),this.jn=Xe.min(),this.An=t.getMutationQueue(s),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Bh(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.qn))}}function Kv(e,t,n,s){return new Hv(e,t,n,s)}async function Hh(e,t){const n=pe(e);let s=n.An,r=n.Wn;const i=await n.persistence.runTransaction("Handle user change","readonly",o=>{let a;return n.An.getAllMutationBatches(o).next(l=>(a=l,s=n.persistence.getMutationQueue(t),r=new Bh(n.Qn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(o))).next(l=>{const c=[],u=[];let f=pn();for(const d of a){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of l){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return r.vn(o,f).next(d=>({Gn:d,removedBatchIds:c,addedBatchIds:u}))})});return n.An=s,n.Wn=r,n.Un.On(n.Wn),i}function qv(e,t){const n=pe(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,f=u.keys();let d=D.resolve();return f.forEach(m=>{d=d.next(()=>c.getEntry(a,m)).next(v=>{const P=l.docVersions.get(m);_e(P!==null),v.version.compareTo(P)<0&&(u.applyToRemoteDocument(v,l),v.isValidDocument()&&c.addEntry(v,l.commitVersion))})}),d.next(()=>o.An.removeMutationBatch(a,u))}(n,s,t,i).next(()=>i.apply(s)).next(()=>n.An.performConsistencyCheck(s)).next(()=>n.Wn.vn(s,r))})}function zv(e){const t=pe(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.He.getLastRemoteSnapshotVersion(n))}function Gv(e,t){const n=pe(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),n.An.getNextMutationBatchAfterBatchId(s,t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(t){this.k=t,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(t,n){return D.resolve(this.Xn.get(n))}saveBundleMetadata(t,n){var s;return this.Xn.set(n.id,{id:(s=n).id,version:s.version,createTime:Hn(s.createTime)}),D.resolve()}getNamedQuery(t,n){return D.resolve(this.Zn.get(n))}saveNamedQuery(t,n){return this.Zn.set(n.name,function(s){return{name:s.name,query:Uv(s.bundledQuery),readTime:Hn(s.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.ts=new st(xe.es),this.ns=new st(xe.ss)}isEmpty(){return this.ts.isEmpty()}addReference(t,n){const s=new xe(t,n);this.ts=this.ts.add(s),this.ns=this.ns.add(s)}rs(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.os(new xe(t,n))}cs(t,n){t.forEach(s=>this.removeReference(s,n))}us(t){const n=new Z(new Ae([])),s=new xe(n,t),r=new xe(n,t+1),i=[];return this.ns.forEachInRange([s,r],o=>{this.os(o),i.push(o.key)}),i}hs(){this.ts.forEach(t=>this.os(t))}os(t){this.ts=this.ts.delete(t),this.ns=this.ns.delete(t)}ls(t){const n=new Z(new Ae([])),s=new xe(n,t),r=new xe(n,t+1);let i=pn();return this.ns.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new xe(t,0),s=this.ts.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,n){this.key=t,this.fs=n}static es(t,n){return Z.comparator(t.key,n.key)||ge(t.fs,n.fs)}static ss(t,n){return ge(t.fs,n.fs)||Z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(t,n){this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new st(xe.es)}checkEmpty(t){return D.resolve(this.An.length===0)}addMutationBatch(t,n,s,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new Lv(i,n,s,r);this.An.push(o);for(const a of r)this.ws=this.ws.add(new xe(a.key,i)),this.Jt.addToCollectionParentIndex(t,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(t,n){return D.resolve(this._s(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,r=this.gs(s),i=r<0?0:r;return D.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.An.length===0?-1:this.ds-1)}getAllMutationBatches(t){return D.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new xe(n,0),r=new xe(n,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([s,r],o=>{const a=this._s(o.fs);i.push(a)}),D.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new st(ge);return n.forEach(r=>{const i=new xe(r,0),o=new xe(r,Number.POSITIVE_INFINITY);this.ws.forEachInRange([i,o],a=>{s=s.add(a.fs)})}),D.resolve(this.ys(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,r=s.length+1;let i=s;Z.isDocumentKey(i)||(i=i.child(""));const o=new xe(new Z(i),0);let a=new st(ge);return this.ws.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.fs)),!0)},o),D.resolve(this.ys(a))}ys(t){const n=[];return t.forEach(s=>{const r=this._s(s);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){_e(this.ps(n.batchId,"removed")===0),this.An.shift();let s=this.ws;return D.forEach(n.mutations,r=>{const i=new xe(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ws=s})}ee(t){}containsKey(t,n){const s=new xe(n,0),r=this.ws.firstAfterOrEqual(s);return D.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.An.length,D.resolve()}ps(t,n){return this.gs(t)}gs(t){return this.An.length===0?0:t-this.An[0].batchId}_s(t){const n=this.gs(t);return n<0||n>=this.An.length?null:this.An[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,n){this.Jt=t,this.Ts=n,this.docs=new pt(Z.comparator),this.size=0}addEntry(t,n,s){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a,readTime:s}),this.size+=a-o,this.Jt.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return D.resolve(s?s.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(t,n){let s=Mh();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():dt.newInvalidDocument(r))}),D.resolve(s)}getDocumentsMatchingQuery(t,n,s){let r=Mh();const i=new Z(n.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:l,readTime:c}}=o.getNext();if(!n.path.isPrefixOf(a.path))break;c.compareTo(s)<=0||Aa(n,l)&&(r=r.insert(l.key,l.mutableCopy()))}return D.resolve(r)}Es(t,n){return D.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Jv(this)}getSize(t){return D.resolve(this.size)}}class Jv extends jv{constructor(t){super(),this.De=t}applyChanges(t){const n=[];return this.changes.forEach((s,r)=>{r.document.isValidDocument()?n.push(this.De.addEntry(t,r.document,this.getReadTime(s))):this.De.removeEntry(s)}),D.waitFor(n)}getFromCache(t,n){return this.De.getEntry(t,n)}getAllFromCache(t,n){return this.De.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t){this.persistence=t,this.Is=new js(n=>wa(n),Ea),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.As=0,this.Rs=new Ra,this.targetCount=0,this.bs=qn.ie()}forEachTarget(t,n){return this.Is.forEach((s,r)=>n(r)),D.resolve()}getLastRemoteSnapshotVersion(t){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return D.resolve(this.As)}allocateTargetId(t){return this.highestTargetId=this.bs.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.As&&(this.As=n),D.resolve()}ae(t){this.Is.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.bs=new qn(n),this.highestTargetId=n),t.sequenceNumber>this.As&&(this.As=t.sequenceNumber)}addTargetData(t,n){return this.ae(n),this.targetCount+=1,D.resolve()}updateTargetData(t,n){return this.ae(n),D.resolve()}removeTargetData(t,n){return this.Is.delete(n.target),this.Rs.us(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(t,n,s){let r=0;const i=[];return this.Is.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Is.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),D.waitFor(i).next(()=>r)}getTargetCount(t){return D.resolve(this.targetCount)}getTargetData(t,n){const s=this.Is.get(n)||null;return D.resolve(s)}addMatchingKeys(t,n,s){return this.Rs.rs(n,s),D.resolve()}removeMatchingKeys(t,n,s){this.Rs.cs(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(t,o))}),D.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Rs.us(n),D.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Rs.ls(n);return D.resolve(s)}containsKey(t,n){return D.resolve(this.Rs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(t,n){this.Ps={},this.Be=new ch(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Yv(this),this.Jt=new Vv,this.Je=function(s,r){return new Qv(s,r)}(this.Jt,s=>this.referenceDelegate.vs(s)),this.k=new Fv(n),this.Ye=new Wv(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(t){let n=this.Ps[t.toKey()];return n||(n=new Xv(this.Jt,this.referenceDelegate),this.Ps[t.toKey()]=n),n}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(t,n,s){$("MemoryPersistence","Starting transaction:",t);const r=new ew(this.Be.next());return this.referenceDelegate.Vs(),s(r).next(i=>this.referenceDelegate.Ss(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ds(t,n){return D.or(Object.values(this.Ps).map(s=>()=>s.containsKey(t,n)))}}class ew extends Mv{constructor(t){super(),this.currentSequenceNumber=t}}class Na{constructor(t){this.persistence=t,this.Cs=new Ra,this.Ns=null}static ks(t){return new Na(t)}get xs(){if(this.Ns)return this.Ns;throw te()}addReference(t,n,s){return this.Cs.addReference(s,n),this.xs.delete(s.toString()),D.resolve()}removeReference(t,n,s){return this.Cs.removeReference(s,n),this.xs.add(s.toString()),D.resolve()}markPotentiallyOrphaned(t,n){return this.xs.add(n.toString()),D.resolve()}removeTarget(t,n){this.Cs.us(n.targetId).forEach(r=>this.xs.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(i=>this.xs.add(i.toString()))}).next(()=>s.removeTargetData(t,n))}Vs(){this.Ns=new Set}Ss(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.xs,s=>{const r=Z.fromPath(s);return this.$s(t,r).next(i=>{i||n.removeEntry(r)})}).next(()=>(this.Ns=null,n.apply(t)))}updateLimboDocument(t,n){return this.$s(t,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}vs(t){return 0}$s(t,n){return D.or([()=>D.resolve(this.Cs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ds(t,n)])}}class Kh{constructor(){this.activeTargetIds=wv()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ls(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ms(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tw{constructor(){this.pi=new Kh,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t){return this.pi.Fs(t),this.Ti[t]||"not-current"}updateQueryState(t,n,s){this.Ti[t]=n}removeLocalQueryTarget(t){this.pi.Ls(t)}isLocalQueryTarget(t){return this.pi.activeTargetIds.has(t)}clearQueryState(t){delete this.Ti[t]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(t){return this.pi.activeTargetIds.has(t)}start(){return this.pi=new Kh,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{Ei(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(t){this.Pi.push(t)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Pi)t(0)}bi(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Pi)t(1)}static Pt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t){this.Vi=t.Vi,this.Si=t.Si}Di(t){this.Ci=t}Ni(t){this.ki=t}onMessage(t){this.xi=t}close(){this.Si()}send(t){this.Vi(t)}$i(){this.Ci()}Oi(t){this.ki(t)}Mi(t){this.xi(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(t,n,s,r,i){const o=this.Ui(t,n);$("RestConnection","Sending: ",o,s);const a={};return this.qi(a,r,i),this.Ki(t,o,a,s).then(l=>($("RestConnection","Received: ",l),l),l=>{throw lh("RestConnection",`${t} failed with error: `,l,"url: ",o,"request:",s),l})}ji(t,n,s,r,i){return this.Bi(t,n,s,r,i)}qi(t,n,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+Fn,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>t[i]=r),s&&s.headers.forEach((r,i)=>t[i]=r)}Ui(t,n){const s=sw[t];return`${this.Fi}/v1/${n}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Ki(t,n,s,r){return new Promise((i,o)=>{const a=new Ty;a.listenOnce(vy.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case fa.NO_ERROR:const c=a.getResponseJson();$("Connection","XHR received:",JSON.stringify(c)),i(c);break;case fa.TIMEOUT:$("Connection",'RPC "'+t+'" timed out'),o(new H(C.DEADLINE_EXCEEDED,"Request time out"));break;case fa.HTTP_ERROR:const u=a.getStatus();if($("Connection",'RPC "'+t+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const f=a.getResponseJson().error;if(f&&f.status&&f.message){const d=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(v)>=0?v:C.UNKNOWN}(f.status);o(new H(d,f.message))}else o(new H(C.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new H(C.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{$("Connection",'RPC "'+t+'" completed.')}});const l=JSON.stringify(r);a.send(n,"POST",l,s,15)})}Qi(t,n,s){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=my(),o=yy(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Ey({})),this.qi(a.initMessageHeaders,n,s),gg()||yg()||vg()||wg()||Eg()||mg()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");$("Connection","Creating WebChannel: "+l,a);const c=i.createWebChannel(l,a);let u=!1,f=!1;const d=new rw({Vi:v=>{f?$("Connection","Not sending because WebChannel is closed:",v):(u||($("Connection","Opening WebChannel transport."),c.open(),u=!0),$("Connection","WebChannel sending:",v),c.send(v))},Si:()=>c.close()}),m=(v,P,R)=>{v.listen(P,N=>{try{R(N)}catch(F){setTimeout(()=>{throw F},0)}})};return m(c,si.EventType.OPEN,()=>{f||$("Connection","WebChannel transport opened.")}),m(c,si.EventType.CLOSE,()=>{f||(f=!0,$("Connection","WebChannel transport closed"),d.Oi())}),m(c,si.EventType.ERROR,v=>{f||(f=!0,lh("Connection","WebChannel transport errored:",v),d.Oi(new H(C.UNAVAILABLE,"The operation could not be completed")))}),m(c,si.EventType.MESSAGE,v=>{var P;if(!f){const R=v.data[0];_e(!!R);const N=R,F=N.error||((P=N[0])===null||P===void 0?void 0:P.error);if(F){$("Connection","WebChannel received error:",F);const W=F.status;let G=function(Ee){const X=Ce[Ee];if(X!==void 0)return fv(X)}(W),ce=F.message;G===void 0&&(G=C.INTERNAL,ce="Unknown error status: "+W+" with message "+F.message),f=!0,d.Oi(new H(G,ce)),c.close()}else $("Connection","WebChannel received:",R),d.Mi(R)}}),m(o,wy.STAT_EVENT,v=>{v.stat===ih.PROXY?$("Connection","Detected buffering proxy"):v.stat===ih.NOPROXY&&$("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.$i()},0),d}}function xa(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(e){return new Ev(e,!0)}class zh{constructor(t,n,s=1e3,r=1.5,i=6e4){this.Me=t,this.timerId=n,this.Wi=s,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(t){this.cancel();const n=Math.floor(this.Hi+this.tr()),s=Math.max(0,Date.now()-this.Yi),r=Math.max(0,n-s);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,()=>(this.Yi=Date.now(),t())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){this.Ji!==null&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){this.Ji!==null&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,n,s,r,i,o,a,l){this.Me=t,this.nr=s,this.sr=r,this.ir=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new zh(t,n)}hr(){return this.state===1||this.state===5||this.lr()}lr(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&this.cr===null&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(t){this.yr(),this.stream.send(t)}async mr(){if(this.lr())return this.close(0)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}async close(t,n){this.yr(),this.pr(),this.ur.cancel(),this.rr++,t!==4?this.ur.reset():n&&n.code===C.RESOURCE_EXHAUSTED?(hn(n.toString()),hn("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ni(n)}Tr(){}auth(){this.state=1;const t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.rr===n&&this.Ir(s,r)},s=>{t(()=>{const r=new H(C.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Ar(r)})})}Ir(t,n){const s=this.Er(this.rr);this.stream=this.Rr(t,n),this.stream.Di(()=>{s(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(r=>{s(()=>this.Ar(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}dr(){this.state=5,this.ur.Zi(async()=>{this.state=0,this.start()})}Ar(t){return $("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Er(t){return n=>{this.Me.enqueueAndForget(()=>this.rr===t?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aw extends ow{constructor(t,n,s,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(t,n){return this.ir.Qi("Write",t,n)}onMessage(t){if(_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Vr){this.ur.reset();const n=Rv(t.writeResults,t.commitTime),s=Hn(t.commitTime);return this.listener.Cr(s,n)}return _e(!t.writeResults||t.writeResults.length===0),this.Vr=!0,this.listener.Nr()}kr(){const t={};t.database=Iv(this.k),this.gr(t)}Dr(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>_v(this.k,s))};this.gr(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends class{}{constructor(t,n,s,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.ir=s,this.k=r,this.$r=!1}Or(){if(this.$r)throw new H(C.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(t,n,s){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.Bi(t,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(C.UNKNOWN,r.toString())})}ji(t,n,s){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.ir.ji(t,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(C.UNKNOWN,r.toString())})}terminate(){this.$r=!0}}class cw{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){this.Mr===0&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(t){this.state==="Online"?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Ur("Offline")))}set(t){this.jr(),this.Mr=0,t==="Online"&&(this.Lr=!1),this.Ur(t)}Ur(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}qr(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(hn(n),this.Lr=!1):$("OnlineStateTracker",n)}jr(){this.Fr!==null&&(this.Fr.cancel(),this.Fr=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,n,s,r,i){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei(o=>{s.enqueueAndForget(async()=>{Hs(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=pe(a);l.Gr.add(4),await Bs(l),l.Jr.set("Unknown"),l.Gr.delete(4),await vi(l)}(this))})}),this.Jr=new cw(s,r)}}async function vi(e){if(Hs(e))for(const t of e.zr)await t(!0)}async function Bs(e){for(const t of e.zr)await t(!1)}function Hs(e){return pe(e).Gr.size===0}async function Gh(e,t,n){if(!mi(t))throw t;e.Gr.add(1),await Bs(e),e.Jr.set("Offline"),n||(n=()=>zv(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await vi(e)})}function Wh(e,t){return t().catch(n=>Gh(e,n,t))}async function wi(e){const t=pe(e),n=Bt(t);let s=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;hw(t);)try{const r=await Gv(t.localStore,s);if(r===null){t.Qr.length===0&&n._r();break}s=r.batchId,fw(t,r)}catch(r){await Gh(t,r)}Xh(t)&&Qh(t)}function hw(e){return Hs(e)&&e.Qr.length<10}function fw(e,t){e.Qr.push(t);const n=Bt(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Xh(e){return Hs(e)&&!Bt(e).hr()&&e.Qr.length>0}function Qh(e){Bt(e).start()}async function dw(e){Bt(e).kr()}async function pw(e){const t=Bt(e);for(const n of e.Qr)t.Dr(n.mutations)}async function gw(e,t,n){const s=e.Qr.shift(),r=Sa.from(s,t,n);await Wh(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await wi(e)}async function mw(e,t){t&&Bt(e).Sr&&await async function(n,s){if(r=s.code,hv(r)&&r!==C.ABORTED){const i=n.Qr.shift();Bt(n).wr(),await Wh(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await wi(n)}var r}(e,t),Xh(e)&&Qh(e)}async function Jh(e,t){const n=pe(e);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const s=Hs(n);n.Gr.add(3),await Bs(n),s&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await vi(n)}async function yw(e,t){const n=pe(e);t?(n.Gr.delete(2),await vi(n)):t||(n.Gr.add(2),await Bs(n),n.Jr.set("Unknown"))}function Bt(e){return e.Zr||(e.Zr=function(t,n,s){const r=pe(t);return r.Or(),new aw(n,r.ir,r.authCredentials,r.appCheckCredentials,r.k,s)}(e.datastore,e.asyncQueue,{Di:dw.bind(null,e),Ni:mw.bind(null,e),Nr:pw.bind(null,e),Cr:gw.bind(null,e)}),e.zr.push(async t=>{t?(e.Zr.wr(),await wi(e)):(await e.Zr.stop(),e.Qr.length>0&&($("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))})),e.Zr}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,n,s,r,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,s,r,i){const o=Date.now()+s,a=new Da(t,n,o,r,i);return a.start(s),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yh(e,t){if(hn("AsyncQueue",`${t}: ${e}`),mi(e))return new H(C.UNAVAILABLE,`${t}: ${e}`);throw e}class vw{constructor(){this.queries=new js(t=>Eh(t),wh),this.onlineState="Unknown",this.io=new Set}}function ww(e){e.io.forEach(t=>{t.next()})}class Ew{constructor(t,n,s,r,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new js(a=>Eh(a),wh),this.Fo=new Map,this.Lo=new Set,this.Bo=new pt(Z.comparator),this.Uo=new Map,this.qo=new Ra,this.Ko={},this.jo=new Map,this.Qo=qn.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return this.Wo===!0}}async function Tw(e,t,n){const s=Iw(e);try{const r=await function(i,o){const a=pe(i),l=ct.now(),c=o.reduce((f,d)=>f.add(d.key),pn());let u;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>a.Wn.vn(f,c).next(d=>{u=d;const m=[];for(const v of o){const P=lv(v,u.get(v.key));P!=null&&m.push(new Bn(v.key,P,ph(P.value.mapValue),jn.exists(!0)))}return a.An.addMutationBatch(f,l,m,o)})).then(f=>(f.applyToLocalDocumentSet(u),{batchId:f.batchId,changes:u}))}(s.localStore,t);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.Ko[i.currentUser.toKey()];l||(l=new pt(ge)),l=l.insert(o,a),i.Ko[i.currentUser.toKey()]=l}(s,r.batchId,n),await Ei(s,r.changes),await wi(s.remoteStore)}catch(r){const i=Yh(r,"Failed to persist write");n.reject(i)}}function Zh(e,t,n){const s=pe(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Mo.forEach((i,o)=>{const a=o.view.ro(t);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=pe(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const f of u.listeners)f.ro(o)&&(l=!0)}),l&&ww(a)}(s.eventManager,t),r.length&&s.Oo.br(r),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Aw(e,t){const n=pe(e),s=t.batch.batchId;try{const r=await qv(n.localStore,t);tf(n,s,null),ef(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ei(n,r)}catch(r){await jh(r)}}async function bw(e,t,n){const s=pe(e);try{const r=await function(i,o){const a=pe(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.An.lookupMutationBatch(l,o).next(u=>(_e(u!==null),c=u.keys(),a.An.removeMutationBatch(l,u))).next(()=>a.An.performConsistencyCheck(l)).next(()=>a.Wn.vn(l,c))})}(s.localStore,t);tf(s,t,n),ef(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ei(s,r)}catch(r){await jh(r)}}function ef(e,t){(e.jo.get(t)||[]).forEach(n=>{n.resolve()}),e.jo.delete(t)}function tf(e,t,n){const s=pe(e);let r=s.Ko[s.currentUser.toKey()];if(r){const i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),s.Ko[s.currentUser.toKey()]=r}}async function Ei(e,t,n){const s=pe(e),r=[],i=[],o=[];s.Mo.isEmpty()||(s.Mo.forEach((a,l)=>{o.push(s.Go(l,t,n).then(c=>{if(c){s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),r.push(c);const u=_a.$n(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.Oo.br(r),await async function(a,l){const c=pe(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>D.forEach(l,f=>D.forEach(f.kn,d=>c.persistence.referenceDelegate.addReference(u,f.targetId,d)).next(()=>D.forEach(f.xn,d=>c.persistence.referenceDelegate.removeReference(u,f.targetId,d)))))}catch(u){if(!mi(u))throw u;$("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const f=u.targetId;if(!u.fromCache){const d=c.qn.get(f),m=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(m);c.qn=c.qn.insert(f,v)}}}(s.localStore,i))}async function Cw(e,t){const n=pe(e);if(!n.currentUser.isEqual(t)){$("SyncEngine","User change. New user:",t.toKey());const s=await Hh(n.localStore,t);n.currentUser=t,function(r,i){r.jo.forEach(o=>{o.forEach(a=>{a.reject(new H(C.CANCELLED,i))})}),r.jo.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ei(n,s.Gn)}}function Iw(e){const t=pe(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Aw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bw.bind(null,t),t}class Sw{constructor(){this.synchronizeTabs=!1}async initialize(t){this.k=yi(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),await this.persistence.start(),this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t)}Xo(t){return null}Zo(t){return Kv(this.persistence,new Bv,t.initialUser,this.k)}Yo(t){return new Zv(Na.ks,this.k)}Jo(t){return new tw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _w{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zh(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cw.bind(null,this.syncEngine),await yw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new vw}createDatastore(t){const n=yi(t.databaseInfo.databaseId),s=(r=t.databaseInfo,new iw(r));var r;return function(i,o,a,l){return new lw(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return n=this.localStore,s=this.datastore,r=t.asyncQueue,i=a=>Zh(this.syncEngine,a,0),o=qh.Pt()?new qh:new nw,new uw(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(t,n){return function(s,r,i,o,a,l,c){const u=new Ew(s,r,i,o,a,l);return c&&(u.Wo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=pe(t);$("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),await Bs(n),n.Hr.shutdown(),n.Jr.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n,s,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=We.UNAUTHENTICATED,this.clientId=uh.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{$("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>($("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Yh(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Nw(e,t){e.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async r=>{s.isEqual(r)||(await Hh(t.localStore,r),s=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function xw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Dw(e);$("FirestoreClient","Initializing OnlineComponentProvider");const s=await e.getConfiguration();await t.initialize(n,s),e.setCredentialChangeListener(r=>Jh(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Jh(t.remoteStore,i)),e.onlineComponents=t}async function Dw(e){return e.offlineComponents||($("FirestoreClient","Using default OfflineComponentProvider"),await Nw(e,new Sw)),e.offlineComponents}async function Pw(e){return e.onlineComponents||($("FirestoreClient","Using default OnlineComponentProvider"),await xw(e,new _w)),e.onlineComponents}function Ow(e){return Pw(e).then(t=>t.syncEngine)}class kw{constructor(t,n,s,r,i,o,a,l){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ti{constructor(t,n){this.projectId=t,this.database=n||"(default)"}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ti&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(e,t,n){if(!n)throw new H(C.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Mw(e,t,n,s){if(t===!0&&s===!0)throw new H(C.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function rf(e){if(!Z.isDocumentKey(e))throw new H(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function of(e){if(Z.isDocumentKey(e))throw new H(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Pa(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":te()}function Lw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new H(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pa(e);throw new H(C.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new H(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new H(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Mw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,n,s){this._authCredentials=n,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new af({}),this._settingsFrozen=!1,t instanceof Ti?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new H(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ti(r.options.projectId)}(t))}get app(){if(!this._app)throw new H(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new H(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new af(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new by;switch(n.type){case"gapi":const s=n.client;return _e(!(typeof s!="object"||s===null||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Sy(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new H(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=nf.get(t);n&&($("ComponentProvider","Removing Datastore"),nf.delete(t),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ht(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dt(this.firestore,t,this._key)}}class ka{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ka(this.firestore,t,this._query)}}class Ht extends ka{constructor(t,n,s){super(t,n,zy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dt(this.firestore,null,new Z(t))}withConverter(t){return new Ht(this.firestore,t,this._path)}}function p0(e,t,...n){if(e=hs(e),sf("collection","path",t),e instanceof Oa){const s=Ae.fromString(t,...n);return of(s),new Ht(e,null,s)}{if(!(e instanceof Dt||e instanceof Ht))throw new H(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Ae.fromString(t,...n));return of(s),new Ht(e.firestore,null,s)}}function Fw(e,t,...n){if(e=hs(e),arguments.length===1&&(t=uh.A()),sf("doc","path",t),e instanceof Oa){const s=Ae.fromString(t,...n);return rf(s),new Dt(e,null,new Z(s))}{if(!(e instanceof Dt||e instanceof Ht))throw new H(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Ae.fromString(t,...n));return rf(s),new Dt(e.firestore,e instanceof Ht?e.converter:null,new Z(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new zh(this,"async_queue_retry"),this.bc=()=>{const n=xa();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ur.er()};const t=xa();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pc(),this.vc(t)}enterRestrictedMode(t){if(!this.yc){this.yc=!0,this.Ac=t||!1;const n=xa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bc)}}enqueue(t){if(this.Pc(),this.yc)return new Promise(()=>{});const n=new fn;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.gc.push(t),this.Vc()))}async Vc(){if(this.gc.length!==0){try{await this.gc[0](),this.gc.shift(),this.ur.reset()}catch(t){if(!mi(t))throw t;$("AsyncQueue","Operation failed with retryable error: "+t)}this.gc.length>0&&this.ur.Zi(()=>this.Vc())}}vc(t){const n=this.mc.then(()=>(this.Ic=!0,t().catch(s=>{this.Ec=s,this.Ic=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw hn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Ic=!1,s))));return this.mc=n,n}enqueueAfterDelay(t,n,s){this.Pc(),this.Rc.indexOf(t)>-1&&(n=0);const r=Da.createAndSchedule(this,t,n,s,i=>this.Sc(i));return this.Tc.push(r),r}Pc(){this.Ec&&te()}verifyOperationInProgress(){}async Dc(){let t;do t=this.mc,await t;while(t!==this.mc)}Cc(t){for(const n of this.Tc)if(n.timerId===t)return!0;return!1}Nc(t){return this.Dc().then(()=>{this.Tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Dc()})}kc(t){this.Rc.push(t)}Sc(t){const n=this.Tc.indexOf(t);this.Tc.splice(n,1)}}class lf extends Oa{constructor(t,n,s){super(t,n,s),this.type="firestore",this._queue=new Uw,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||cf(this),this._firestoreClient.terminate()}}function g0(e=hm()){return am(e,"firestore").getImmediate()}function Vw(e){return e._firestoreClient||cf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cf(e){var t;const n=e._freezeSettings(),s=function(r,i,o,a){return new kw(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Rw(e._authCredentials,e._appCheckCredentials,e._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new H(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ks(xt.fromBase64String(t))}catch(n){throw new H(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ks(xt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new H(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new H(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ge(this._lat,t._lat)||ge(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=/^__.*__$/;class jw{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Bn(t,this.data,this.fieldMask,n,this.fieldTransforms):new pi(t,this.data,n,this.fieldTransforms)}}function ff(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class La{constructor(t,n,s,r,i,o){this.settings=t,this.databaseId=n,this.k=s,this.ignoreUndefinedProperties=r,i===void 0&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(t){return new La(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Oc({path:s,Fc:!1});return r.Lc(t),r}Bc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),r=this.Oc({path:s,Fc:!1});return r.xc(),r}Uc(t){return this.Oc({path:void 0,Fc:!0})}qc(t){return Ai(t,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Lc(this.path.get(t))}Lc(t){if(t.length===0)throw this.qc("Document fields must not be empty");if(ff(this.$c)&&$w.test(t))throw this.qc('Document fields cannot begin and end with "__"')}}class Bw{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=s||yi(t)}Qc(t,n,s,r=!1){return new La({$c:t,methodName:n,jc:s,path:Qe.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Hw(e){const t=e._freezeSettings(),n=yi(e._databaseId);return new Bw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kw(e,t,n,s,r,i={}){const o=e.Qc(i.merge||i.mergeFields?2:0,t,n,r);mf("Data must be an object, but it was:",o,s);const a=pf(s,o);let l,c;if(i.merge)l=new pa(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const d=qw(t,f,n);if(!o.contains(d))throw new H(C.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Ww(u,d)||u.push(d)}l=new pa(u),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new jw(new At(a),l,c)}class Fa extends Ma{_toFieldTransform(t){return new rv(t.path,new Us)}isEqual(t){return t instanceof Fa}}function df(e,t){if(gf(e=hs(e)))return mf("Unsupported field value:",t,e),pf(e,t);if(e instanceof Ma)return function(n,s){if(!ff(s.$c))throw s.qc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qc(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.$c!==4)throw t.qc("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=df(o,s.Uc(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(e,t)}return function(n,s){if((n=hs(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tv(s.k,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=ct.fromDate(n);return{timestampValue:Ca(s.k,r)}}if(n instanceof ct){const r=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ca(s.k,r)}}if(n instanceof hf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ks)return{bytesValue:Tv(s.k,n._byteString)};if(n instanceof Dt){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.qc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Fh(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.qc(`Unsupported field value: ${Pa(n)}`)}(e,t)}function pf(e,t){const n={};return fh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xs(e,(s,r)=>{const i=df(r,t.Mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function gf(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ct||e instanceof hf||e instanceof Ks||e instanceof Dt||e instanceof Ma)}function mf(e,t,n){if(!gf(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Pa(n);throw s==="an object"?t.qc(e+" a custom object"):t.qc(e+" "+s)}}function qw(e,t,n){if((t=hs(t))instanceof uf)return t._internalPath;if(typeof t=="string")return Gw(e,t);throw Ai("Field path arguments must be of type string or ",e,!1,void 0,n)}const zw=new RegExp("[~\\*/\\[\\]]");function Gw(e,t,n){if(t.search(zw)>=0)throw Ai(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new uf(...t.split("."))._internalPath}catch{throw Ai(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ai(e,t,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new H(C.INVALID_ARGUMENT,a+e+l)}function Ww(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}function m0(e,t){const n=Lw(e.firestore,lf),s=Fw(e),r=Xw(e.converter,t);return Qw(n,[Kw(Hw(e.firestore),"addDoc",s._key,r,e.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then(()=>s)}function Qw(e,t){return function(n,s){const r=new fn;return n.asyncQueue.enqueueAndForget(async()=>Tw(await Ow(n),s,r)),r.promise}(Vw(e),t)}function y0(){return new Fa("serverTimestamp")}(function(e,t=!0){(function(n){Fn=n})(um),To(new Nr("firestore",(n,{options:s})=>{const r=n.getProvider("app").getImmediate(),i=new lf(r,new Cy(n.getProvider("auth-internal")),new Ry(n.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:t},s),i._setSettings(s),i},"PUBLIC")),Dn(oh,"3.4.4",e),Dn(oh,"3.4.4","esm2017")})();/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const yf=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",zn=e=>yf?Symbol(e):"_vr_"+e,Jw=zn("rvlm"),vf=zn("rvd"),Ua=zn("r"),wf=zn("rl"),Va=zn("rvl"),Gn=typeof window!="undefined";function Yw(e){return e.__esModule||yf&&e[Symbol.toStringTag]==="Module"}const le=Object.assign;function $a(e,t){const n={};for(const s in t){const r=t[s];n[s]=Array.isArray(r)?r.map(e):e(r)}return n}const qs=()=>{},Zw=/\/$/,eE=e=>e.replace(Zw,"");function ja(e,t,n="/"){let s,r={},i="",o="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(s=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),r=e(i)),l>-1&&(s=s||t.slice(0,l),o=t.slice(l,t.length)),s=rE(s!=null?s:t,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function tE(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ef(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nE(e,t,n){const s=t.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Wn(t.matched[s],n.matched[r])&&Tf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Wn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Tf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!sE(e[n],t[n]))return!1;return!0}function sE(e,t){return Array.isArray(e)?Af(e,t):Array.isArray(t)?Af(t,e):e===t}function Af(e,t){return Array.isArray(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function rE(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],!(r===1||o==="."))if(o==="..")r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var zs;(function(e){e.pop="pop",e.push="push"})(zs||(zs={}));var Gs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Gs||(Gs={}));function iE(e){if(!e)if(Gn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),eE(e)}const oE=/^[^#]+#/;function aE(e,t){return e.replace(oE,"#")+t}function lE(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const bi=()=>({left:window.pageXOffset,top:window.pageYOffset});function cE(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=lE(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function bf(e,t){return(history.state?history.state.position-t:-1)+e}const Ba=new Map;function uE(e,t){Ba.set(e,t)}function hE(e){const t=Ba.get(e);return Ba.delete(e),t}let fE=()=>location.protocol+"//"+location.host;function Cf(e,t){const{pathname:n,search:s,hash:r}=t,i=e.indexOf("#");if(i>-1){let a=r.includes(e.slice(i))?e.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ef(l,"")}return Ef(n,e)+s+r}function dE(e,t,n,s){let r=[],i=[],o=null;const a=({state:d})=>{const m=Cf(e,location),v=n.value,P=t.value;let R=0;if(d){if(n.value=m,t.value=d,o&&o===v){o=null;return}R=P?d.position-P.position:0}else s(m);r.forEach(N=>{N(n.value,v,{delta:R,type:zs.pop,direction:R?R>0?Gs.forward:Gs.back:Gs.unknown})})};function l(){o=n.value}function c(d){r.push(d);const m=()=>{const v=r.indexOf(d);v>-1&&r.splice(v,1)};return i.push(m),m}function u(){const{history:d}=window;!d.state||d.replaceState(le({},d.state,{scroll:bi()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:f}}function If(e,t,n,s=!1,r=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:r?bi():null}}function pE(e){const{history:t,location:n}=window,s={value:Cf(e,n)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:fE()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(m){console.error(m),n[u?"replace":"assign"](d)}}function o(l,c){const u=le({},t.state,If(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=le({},r.value,t.state,{forward:l,scroll:bi()});i(u.current,u,!0);const f=le({},If(s.value,l,null),{position:u.position+1},c);i(l,f,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function v0(e){e=iE(e);const t=pE(e),n=dE(e,t.state,t.location,t.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=le({location:"",base:e,go:s,createHref:aE.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function gE(e){return typeof e=="string"||e&&typeof e=="object"}function Sf(e){return typeof e=="string"||typeof e=="symbol"}const Kt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_f=zn("nf");var Rf;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Rf||(Rf={}));function Xn(e,t){return le(new Error,{type:e,[_f]:!0},t)}function gn(e,t){return e instanceof Error&&_f in e&&(t==null||!!(e.type&t))}const Nf="[^/]+?",mE={sensitive:!1,strict:!1,start:!0,end:!0},yE=/[.+*?^${}()[\]/\\]/g;function vE(e,t){const n=le({},mE,t),s=[];let r=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let m=40+(n.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(yE,"\\$&"),m+=40;else if(d.type===1){const{value:v,repeatable:P,optional:R,regexp:N}=d;i.push({name:v,repeatable:P,optional:R});const F=N||Nf;if(F!==Nf){m+=10;try{new RegExp(`(${F})`)}catch(G){throw new Error(`Invalid custom RegExp for param "${v}" (${F}): `+G.message)}}let W=P?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;f||(W=R&&c.length<2?`(?:/${W})`:"/"+W),R&&(W+="?"),r+=W,m+=20,R&&(m+=-8),P&&(m+=-20),F===".*"&&(m+=-50)}u.push(m)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const m=u[d]||"",v=i[d-1];f[v.name]=m&&v.repeatable?m.split("/"):m}return f}function l(c){let u="",f=!1;for(const d of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const m of d)if(m.type===0)u+=m.value;else if(m.type===1){const{value:v,repeatable:P,optional:R}=m,N=v in c?c[v]:"";if(Array.isArray(N)&&!P)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const F=Array.isArray(N)?N.join("/"):N;if(!F)if(R)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=F}}return u}return{re:o,score:s,keys:i,parse:a,stringify:l}}function wE(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function EE(e,t){let n=0;const s=e.score,r=t.score;for(;n<s.length&&n<r.length;){const i=wE(s[n],r[n]);if(i)return i;n++}return r.length-s.length}const TE={type:0,value:""},AE=/[a-zA-Z0-9_]/;function bE(e){if(!e)return[[]];if(e==="/")return[[TE]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function f(){!c||(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:AE.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function CE(e,t,n){const s=vE(bE(e.path),n),r=le(s,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function IE(e,t){const n=[],s=new Map;t=Df({strict:!1,end:!0,sensitive:!1},t);function r(u){return s.get(u)}function i(u,f,d){const m=!d,v=_E(u);v.aliasOf=d&&d.record;const P=Df(t,u),R=[v];if("alias"in u){const W=typeof u.alias=="string"?[u.alias]:u.alias;for(const G of W)R.push(le({},v,{components:d?d.record.components:v.components,path:G,aliasOf:d?d.record:v}))}let N,F;for(const W of R){const{path:G}=W;if(f&&G[0]!=="/"){const ce=f.record.path,Ee=ce[ce.length-1]==="/"?"":"/";W.path=f.record.path+(G&&Ee+G)}if(N=CE(W,f,P),d?d.alias.push(N):(F=F||N,F!==N&&F.alias.push(N),m&&u.name&&!xf(N)&&o(u.name)),"children"in v){const ce=v.children;for(let Ee=0;Ee<ce.length;Ee++)i(ce[Ee],N,d&&d.children[Ee])}d=d||N,l(N)}return F?()=>{o(F)}:qs}function o(u){if(Sf(u)){const f=s.get(u);f&&(s.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let f=0;for(;f<n.length&&EE(u,n[f])>=0;)f++;n.splice(f,0,u),u.record.name&&!xf(u)&&s.set(u.record.name,u)}function c(u,f){let d,m={},v,P;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw Xn(1,{location:u});P=d.record.name,m=le(SE(f.params,d.keys.filter(F=>!F.optional).map(F=>F.name)),u.params),v=d.stringify(m)}else if("path"in u)v=u.path,d=n.find(F=>F.re.test(v)),d&&(m=d.parse(v),P=d.record.name);else{if(d=f.name?s.get(f.name):n.find(F=>F.re.test(f.path)),!d)throw Xn(1,{location:u,currentLocation:f});P=d.record.name,m=le({},f.params,u.params),v=d.stringify(m)}const R=[];let N=d;for(;N;)R.unshift(N.record),N=N.parent;return{name:P,path:v,params:m,matched:R,meta:NE(R)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function SE(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function _E(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:RE(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function RE(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="boolean"?n:n[s];return t}function xf(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function NE(e){return e.reduce((t,n)=>le(t,n.meta),{})}function Df(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}const Pf=/#/g,xE=/&/g,DE=/\//g,PE=/=/g,OE=/\?/g,Of=/\+/g,kE=/%5B/g,ME=/%5D/g,kf=/%5E/g,LE=/%60/g,Mf=/%7B/g,FE=/%7C/g,Lf=/%7D/g,UE=/%20/g;function Ha(e){return encodeURI(""+e).replace(FE,"|").replace(kE,"[").replace(ME,"]")}function VE(e){return Ha(e).replace(Mf,"{").replace(Lf,"}").replace(kf,"^")}function Ka(e){return Ha(e).replace(Of,"%2B").replace(UE,"+").replace(Pf,"%23").replace(xE,"%26").replace(LE,"`").replace(Mf,"{").replace(Lf,"}").replace(kf,"^")}function $E(e){return Ka(e).replace(PE,"%3D")}function jE(e){return Ha(e).replace(Pf,"%23").replace(OE,"%3F")}function BE(e){return e==null?"":jE(e).replace(DE,"%2F")}function Ci(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function HE(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Of," "),o=i.indexOf("="),a=Ci(o<0?i:i.slice(0,o)),l=o<0?null:Ci(i.slice(o+1));if(a in t){let c=t[a];Array.isArray(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Ff(e){let t="";for(let n in e){const s=e[n];if(n=$E(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(s)?s.map(i=>i&&Ka(i)):[s&&Ka(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function KE(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=Array.isArray(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}function Ws(){let e=[];function t(s){return e.push(s),()=>{const r=e.indexOf(s);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function qt(e,t,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=f=>{f===!1?a(Xn(4,{from:n,to:t})):f instanceof Error?a(f):gE(f)?a(Xn(2,{from:t,to:f})):(i&&s.enterCallbacks[r]===i&&typeof f=="function"&&i.push(f),o())},c=e.call(s&&s.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(f=>a(f))})}function qa(e,t,n,s){const r=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(qE(a)){const c=(a.__vccOpts||a)[t];c&&r.push(qt(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Yw(c)?c.default:c;i.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&qt(d,n,s,i,o)()}))}}return r}function qE(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Uf(e){const t=kt(Ua),n=kt(wf),s=vt(()=>t.resolve(ss(e.to))),r=vt(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Wn.bind(null,u));if(d>-1)return d;const m=Vf(l[c-2]);return c>1&&Vf(u)===m&&f[f.length-1].path!==m?f.findIndex(Wn.bind(null,l[c-2])):d}),i=vt(()=>r.value>-1&&XE(n.params,s.value.params)),o=vt(()=>r.value>-1&&r.value===n.matched.length-1&&Tf(n.params,s.value.params));function a(l={}){return WE(l)?t[ss(e.replace)?"replace":"push"](ss(e.to)).catch(qs):Promise.resolve()}return{route:s,href:vt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const zE=Ol({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Uf,setup(e,{slots:t}){const n=ts(Uf(e)),{options:s}=kt(Ua),r=vt(()=>({[$f(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[$f(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:ho("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),GE=zE;function WE(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function XE(e,t){for(const n in t){const s=t[n],r=e[n];if(typeof s=="string"){if(s!==r)return!1}else if(!Array.isArray(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Vf(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $f=(e,t,n)=>e!=null?e:t!=null?t:n,QE=Ol({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const s=kt(Va),r=vt(()=>e.route||s.value),i=kt(vf,0),o=vt(()=>r.value.matched[i]);fr(vf,i+1),fr(Jw,o),fr(Va,r);const a=Nd();return Ir(()=>[a.value,o.value,e.name],([l,c,u],[f,d,m])=>{c&&(c.instances[u]=l,d&&d!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),l&&c&&(!d||!Wn(c,d)||!f)&&(c.enterCallbacks[u]||[]).forEach(v=>v(l))},{flush:"post"}),()=>{const l=r.value,c=o.value,u=c&&c.components[e.name],f=e.name;if(!u)return jf(n.default,{Component:u,route:l});const d=c.props[e.name],m=d?d===!0?l.params:typeof d=="function"?d(l):d:null,P=ho(u,le({},m,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(c.instances[f]=null)},ref:a}));return jf(n.default,{Component:P,route:l})||P}}});function jf(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const JE=QE;function w0(e){const t=IE(e.routes,e),n=e.parseQuery||HE,s=e.stringifyQuery||Ff,r=e.history,i=Ws(),o=Ws(),a=Ws(),l=xd(Kt);let c=Kt;Gn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=$a.bind(null,y=>""+y),f=$a.bind(null,BE),d=$a.bind(null,Ci);function m(y,k){let S,L;return Sf(y)?(S=t.getRecordMatcher(y),L=k):L=y,t.addRoute(L,S)}function v(y){const k=t.getRecordMatcher(y);k&&t.removeRoute(k)}function P(){return t.getRoutes().map(y=>y.record)}function R(y){return!!t.getRecordMatcher(y)}function N(y,k){if(k=le({},k||l.value),typeof y=="string"){const q=ja(n,y,k.path),h=t.resolve({path:q.path},k),p=r.createHref(q.fullPath);return le(q,h,{params:d(h.params),hash:Ci(q.hash),redirectedFrom:void 0,href:p})}let S;if("path"in y)S=le({},y,{path:ja(n,y.path,k.path).path});else{const q=le({},y.params);for(const h in q)q[h]==null&&delete q[h];S=le({},y,{params:f(y.params)}),k.params=f(k.params)}const L=t.resolve(S,k),ie=y.hash||"";L.params=u(d(L.params));const fe=tE(s,le({},y,{hash:VE(ie),path:L.path})),Q=r.createHref(fe);return le({fullPath:fe,hash:ie,query:s===Ff?KE(y.query):y.query||{}},L,{redirectedFrom:void 0,href:Q})}function F(y){return typeof y=="string"?ja(n,y,l.value.path):le({},y)}function W(y,k){if(c!==y)return Xn(8,{from:k,to:y})}function G(y){return X(y)}function ce(y){return G(le(F(y),{replace:!0}))}function Ee(y){const k=y.matched[y.matched.length-1];if(k&&k.redirect){const{redirect:S}=k;let L=typeof S=="function"?S(y):S;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=F(L):{path:L},L.params={}),le({query:y.query,hash:y.hash,params:y.params},L)}}function X(y,k){const S=c=N(y),L=l.value,ie=y.state,fe=y.force,Q=y.replace===!0,q=Ee(S);if(q)return X(le(F(q),{state:ie,force:fe,replace:Q}),k||S);const h=S;h.redirectedFrom=k;let p;return!fe&&nE(s,L,S)&&(p=Xn(16,{to:h,from:L}),mn(L,L,!0,!1)),(p?Promise.resolve(p):ue(h,L)).catch(g=>gn(g)?g:he(g,h,L)).then(g=>{if(g){if(gn(g,2))return X(le(F(g.to),{state:ie,force:fe,replace:Q}),k||h)}else g=Ie(h,L,!0,Q,ie);return De(h,L,g),g})}function Te(y,k){const S=W(y,k);return S?Promise.reject(S):Promise.resolve()}function ue(y,k){let S;const[L,ie,fe]=YE(y,k);S=qa(L.reverse(),"beforeRouteLeave",y,k);for(const q of L)q.leaveGuards.forEach(h=>{S.push(qt(h,y,k))});const Q=Te.bind(null,y,k);return S.push(Q),Qn(S).then(()=>{S=[];for(const q of i.list())S.push(qt(q,y,k));return S.push(Q),Qn(S)}).then(()=>{S=qa(ie,"beforeRouteUpdate",y,k);for(const q of ie)q.updateGuards.forEach(h=>{S.push(qt(h,y,k))});return S.push(Q),Qn(S)}).then(()=>{S=[];for(const q of y.matched)if(q.beforeEnter&&!k.matched.includes(q))if(Array.isArray(q.beforeEnter))for(const h of q.beforeEnter)S.push(qt(h,y,k));else S.push(qt(q.beforeEnter,y,k));return S.push(Q),Qn(S)}).then(()=>(y.matched.forEach(q=>q.enterCallbacks={}),S=qa(fe,"beforeRouteEnter",y,k),S.push(Q),Qn(S))).then(()=>{S=[];for(const q of o.list())S.push(qt(q,y,k));return S.push(Q),Qn(S)}).catch(q=>gn(q,8)?q:Promise.reject(q))}function De(y,k,S){for(const L of a.list())L(y,k,S)}function Ie(y,k,S,L,ie){const fe=W(y,k);if(fe)return fe;const Q=k===Kt,q=Gn?history.state:{};S&&(L||Q?r.replace(y.fullPath,le({scroll:Q&&q&&q.scroll},ie)):r.push(y.fullPath,ie)),l.value=y,mn(y,k,S,Q),rt()}let M;function ve(){M=r.listen((y,k,S)=>{const L=N(y),ie=Ee(L);if(ie){X(le(ie,{replace:!0}),L).catch(qs);return}c=L;const fe=l.value;Gn&&uE(bf(fe.fullPath,S.delta),bi()),ue(L,fe).catch(Q=>gn(Q,4|8)?Q:gn(Q,2)?(X(Q.to,L).then(q=>{gn(q,4|16)&&!S.delta&&S.type===zs.pop&&r.go(-1,!1)}).catch(qs),Promise.reject()):(S.delta&&r.go(-S.delta,!1),he(Q,L,fe))).then(Q=>{Q=Q||Ie(L,fe,!1),Q&&(S.delta?r.go(-S.delta,!1):S.type===zs.pop&&gn(Q,4|16)&&r.go(-1,!1)),De(L,fe,Q)}).catch(qs)})}let ze=Ws(),bt=Ws(),we;function he(y,k,S){rt(y);const L=bt.list();return L.length?L.forEach(ie=>ie(y,k,S)):console.error(y),Promise.reject(y)}function re(){return we&&l.value!==Kt?Promise.resolve():new Promise((y,k)=>{ze.add([y,k])})}function rt(y){we||(we=!0,ve(),ze.list().forEach(([k,S])=>y?S(y):k()),ze.reset())}function mn(y,k,S,L){const{scrollBehavior:ie}=e;if(!Gn||!ie)return Promise.resolve();const fe=!S&&hE(bf(y.fullPath,0))||(L||!S)&&history.state&&history.state.scroll||null;return pc().then(()=>ie(y,k,fe)).then(Q=>Q&&cE(Q)).catch(Q=>he(Q,y,k))}const Ct=y=>r.go(y);let gt;const it=new Set;return{currentRoute:l,addRoute:m,removeRoute:v,hasRoute:R,getRoutes:P,resolve:N,options:e,push:G,replace:ce,go:Ct,back:()=>Ct(-1),forward:()=>Ct(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:bt.add,isReady:re,install(y){const k=this;y.component("RouterLink",GE),y.component("RouterView",JE),y.config.globalProperties.$router=k,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>ss(l)}),Gn&&!gt&&l.value===Kt&&(gt=!0,G(r.location).catch(ie=>{}));const S={};for(const ie in Kt)S[ie]=vt(()=>l.value[ie]);y.provide(Ua,k),y.provide(wf,ts(S)),y.provide(Va,l);const L=y.unmount;it.add(y),y.unmount=function(){it.delete(y),it.size<1&&(c=Kt,M&&M(),l.value=Kt,gt=!1,we=!1),L()}}}}function Qn(e){return e.reduce((t,n)=>t.then(()=>n()),Promise.resolve())}function YE(e,t){const n=[],s=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>Wn(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Wn(c,l))||r.push(l))}return[n,s,r]}export{f0 as A,p0 as D,at as F,m0 as I,xc as T,g0 as U,ac as a,Be as b,i0 as c,wp as d,ic as e,n0 as f,l0 as g,Nd as h,d0 as i,u0 as j,c0 as k,y0 as l,o0 as m,Ri as n,nc as o,a0 as p,r0 as q,s0 as r,_i as s,ZE as t,e0 as u,h0 as v,Md as w,t0 as x,w0 as y,v0 as z};
